var app=function(){"use strict";function e(){}const t=e=>e;function s(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(s)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r;function a(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}const c="undefined"!=typeof window;let d=c?()=>window.performance.now():()=>Date.now(),h=c?e=>requestAnimationFrame(e):e;const u=new Set;function p(e){u.forEach((t=>{t.c(e)||(u.delete(t),t.f())})),0!==u.size&&h(p)}function f(e){let t;return 0===u.size&&h(p),{promise:new Promise((s=>{u.add(t={c:e,f:s})})),abort(){u.delete(t)}}}function m(e,t){e.appendChild(t)}function g(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=S("style");return function(e,t){m(e.head||e,t),t.sheet}(g(e),t),t.sheet}function v(e,t,s){e.insertBefore(t,s||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function S(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function $(){return w(" ")}function I(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function j(e,t,s){null==s?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function T(e,t,s,n){null==s?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}const L=new Map;let x,U=0;function E(e,t,s,n,l,i,o,r=0){const a=16.666/n;let c="{\n";for(let e=0;e<=1;e+=a){const n=t+(s-t)*i(e);c+=100*e+`%{${o(n,1-n)}}\n`}const d=c+`100% {${o(s,1-s)}}\n}`,h=`__svelte_${function(e){let t=5381,s=e.length;for(;s--;)t=(t<<5)-t^e.charCodeAt(s);return t>>>0}(d)}_${r}`,u=g(e),{stylesheet:p,rules:f}=L.get(u)||function(e,t){const s={stylesheet:b(t),rules:{}};return L.set(e,s),s}(u,e);f[h]||(f[h]=!0,p.insertRule(`@keyframes ${h} ${d}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${h} ${n}ms linear ${l}ms 1 both`,U+=1,h}function O(e,t){const s=(e.style.animation||"").split(", "),n=s.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),l=s.length-n.length;l&&(e.style.animation=n.join(", "),U-=l,U||h((()=>{U||(L.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&y(t)})),L.clear())})))}function D(e){x=e}function _(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const M=[],C=[];let N=[];const B=[],F=Promise.resolve();let P=!1;function R(e){N.push(e)}const H=new Set;let A,X=0;function z(){if(0!==X)return;const e=x;do{try{for(;X<M.length;){const e=M[X];X++,D(e),Y(e.$$)}}catch(e){throw M.length=0,X=0,e}for(D(null),M.length=0,X=0;C.length;)C.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];H.has(t)||(H.add(t),t())}N.length=0}while(M.length);for(;B.length;)B.pop()();P=!1,H.clear(),D(e)}function Y(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}function q(){return A||(A=Promise.resolve(),A.then((()=>{A=null}))),A}function G(e,t,s){e.dispatchEvent(function(e,t,{bubbles:s=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,s,n,t),l}(`${t?"intro":"outro"}${s}`))}const J=new Set;let K;function Q(){K={r:0,c:[],p:K}}function V(){K.r||l(K.c),K=K.p}function W(e,t){e&&e.i&&(J.delete(e),e.i(t))}function Z(e,t,s,n){if(e&&e.o){if(J.has(e))return;J.add(e),K.c.push((()=>{J.delete(e),n&&(s&&e.d(1),n())})),e.o(t)}else n&&n()}const ee={duration:0};function te(s,n,o,r){const a={direction:"both"};let c=n(s,o,a),h=r?0:1,u=null,p=null,m=null;function g(){m&&O(s,m)}function b(e,t){const s=e.b-h;return t*=Math.abs(s),{a:h,b:e.b,d:s,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(n){const{delay:i=0,duration:o=300,easing:r=t,tick:a=e,css:v}=c||ee,y={start:d()+i,b:n};n||(y.group=K,K.r+=1),u||p?p=y:(v&&(g(),m=E(s,h,n,o,i,r,v)),n&&a(0,1),u=b(y,o),R((()=>G(s,n,"start"))),f((e=>{if(p&&e>p.start&&(u=b(p,o),p=null,G(s,u.b,"start"),v&&(g(),m=E(s,h,u.b,u.duration,0,r,c.css))),u)if(e>=u.end)a(h=u.b,1-h),G(s,u.b,"end"),p||(u.b?g():--u.group.r||l(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;h=u.a+u.d*r(t/u.duration),a(h,1-h)}return!(!u&&!p)})))}return{run(e){i(c)?q().then((()=>{c=c(a),v(e)})):v(e)},end(){g(),u=p=null}}}function se(e,t){e.d(1),t.delete(e.key)}function ne(e,t,s,n,i,o,r,a,c,d,h,u){let p=e.length,f=o.length,m=p;const g={};for(;m--;)g[e[m].key]=m;const b=[],v=new Map,y=new Map,S=[];for(m=f;m--;){const e=u(i,o,m),l=s(e);let a=r.get(l);a?n&&S.push((()=>a.p(e,t))):(a=d(l,e),a.c()),v.set(l,b[m]=a),l in g&&y.set(l,Math.abs(m-g[l]))}const w=new Set,$=new Set;function I(e){W(e,1),e.m(a,h),r.set(e.key,e),h=e.first,f--}for(;p&&f;){const t=b[f-1],s=e[p-1],n=t.key,l=s.key;t===s?(h=t.first,p--,f--):v.has(l)?!r.has(n)||w.has(n)?I(t):$.has(l)?p--:y.get(n)>y.get(l)?($.add(n),I(t)):(w.add(l),p--):(c(s,r),p--)}for(;p--;){const t=e[p];v.has(t.key)||c(t,r)}for(;f;)I(b[f-1]);return l(S),b}function le(e,t,n,o){const{fragment:r,after_update:a}=e.$$;r&&r.m(t,n),o||R((()=>{const t=e.$$.on_mount.map(s).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(R)}function ie(e,t){const s=e.$$;null!==s.fragment&&(!function(e){const t=[],s=[];N.forEach((n=>-1===e.indexOf(n)?t.push(n):s.push(n))),s.forEach((e=>e())),N=t}(s.after_update),l(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function oe(e,t){-1===e.$$.dirty[0]&&(M.push(e),P||(P=!0,F.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(t,s,i,o,r,a,c,d=[-1]){const h=x;D(t);const u=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||h.$$.root};c&&c(u.root);let p=!1;if(u.ctx=i?i(t,s.props||{},((e,s,...n)=>{const l=n.length?n[0]:s;return u.ctx&&r(u.ctx[e],u.ctx[e]=l)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](l),p&&oe(t,e)),s})):[],u.update(),p=!0,l(u.before_update),u.fragment=!!o&&o(u.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);u.fragment&&u.fragment.l(e),e.forEach(y)}else u.fragment&&u.fragment.c();s.intro&&W(t.$$.fragment),le(t,s.target,s.anchor,s.customElement),z()}D(h)}class ae{$destroy(){ie(this,1),this.$destroy=e}$on(t,s){if(!i(s))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const e=n.indexOf(s);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ce{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.recentlyImportedShapeIds=[],this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1,isDeleting:!1},{id:2,name:"default",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!1,isDeleting:!1}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0,this.importButtonSelected=!1,this.libraryOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,this.config.onUpdateDialogOpen(this.dialogOpen)}openLibrary(){this.libraryOpen=!0,this.importButtonSelected=!1,this.config.onUpdateLibraryOpen(this.libraryOpen),this.config.onUpdateImportButtonSelected(this.importButtonSelected)}closeLibrary(){console.log("close library"),this.libraryOpen=!1,this.config.onUpdateLibraryOpen(this.libraryOpen)}createShape(){this.recentlyImportedShapeIds=[],this.config.onUpdateRecentlyImportedShapes(this.recentlyImportedShapeIds);const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0,isDeleting:!1};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}importShapes(){this.importButtonSelected=!this.importButtonSelected,this.config.onUpdateImportButtonSelected(this.importButtonSelected)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:s}=t,n=s.match(/^(.*?)(\s(\d+))?$/);if(n){const s=n[1],l=[];for(const e of this.shapes)if(0===e.name.indexOf(s)){const t=e.name.match(/^.*\s(\d+)$/);t&&l.push(Number(t[1]))}let i=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){i=t;break}let o=i;if(l.length>=1){const e=Math.max(...l);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${s} ${e}`){o=t;break}}const r=`${s} ${l.length?Math.max(...l)+1:1}`,a=Object.assign(Object.assign({},t),{name:r,hover:!1,deletable:!0}),c=Math.max(...this.shapes.map((e=>e.id)))+1;a.id=c,this.shapes.splice(o+1,0,a),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}addNewShapes(e){this.recentlyImportedShapeIds=[],this.config.onUpdateRecentlyImportedShapes(this.recentlyImportedShapeIds),e.forEach((e=>{e.id=Math.max(...this.shapes.map((e=>e.id)))+1,e.type=this.currentType,e.hover=!1,e.deletable=!0,"default"===e.name&&(e.deletable=!1),this.shapes.push(e),this.recentlyImportedShapeIds.push(e.id)})),this.shapes.sort(((e,t)=>"default"===e.name?-1:"default"===t.name?1:e.name.localeCompare(t.name))),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateRecentlyImportedShapes(this.recentlyImportedShapeIds)}deleteShape(e){console.log("delete shape");let t=-1,s=-1;for(let s=0;s<this.shapes.length;s++)this.shapes[s].id===e&&(t=s);for(let t=0;t<this.filteredShapes.length;t++)this.filteredShapes[t].id===e&&(s=t);-1!==t&&-1!==s&&(this.shapes[t].isDeleting=!0,this.filteredShapes[s].isDeleting=!0,this.shapes=[...this.shapes],this.filteredShapes=[...this.filteredShapes],this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes),setTimeout((()=>{this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}),500))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.recentlyImportedShapeIds=[],this.config.onUpdateRecentlyImportedShapes(this.recentlyImportedShapeIds),this.config.onUpdateSelectedItemId(this.selectedItemId)}}class de{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemIds=[],this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:2,name:"ghost",image:"shapes/ghost.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:3,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:4,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:5,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:6,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:7,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:8,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:9,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1},{id:10,name:"turtle",image:"shapes/cute-turtle.png",type:"turtle",hover:!1,deletable:!0,isDeleting:!1}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){const t=this.selectedItemIds.indexOf(e);t>-1?this.selectedItemIds.splice(t,1):this.selectedItemIds.push(e),console.log(this.selectedItemIds.map((e=>this.shapes.find((t=>t.id===e))))),this.config.onUpdateSelectedItemIds([...this.selectedItemIds])}}const he=[];function ue(t,s=e){let n;const l=new Set;function i(e){if(o(t,e)&&(t=e,n)){const e=!he.length;for(const e of l)e[1](),he.push(e,t);if(e){for(let e=0;e<he.length;e+=2)he[e][0](he[e+1]);he.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,r=e){const a=[o,r];return l.add(a),1===l.size&&(n=s(i)||e),o(t),()=>{l.delete(a),0===l.size&&n&&(n(),n=null)}}}}function pe(e,{delay:s=0,duration:n=400,easing:l=t}={}){const i=+getComputedStyle(e).opacity;return{delay:s,duration:n,easing:l,css:e=>"opacity: "+e*i}}function fe(e,t,s){const n=e.slice();return n[23]=t[s],n[24]=t,n[25]=s,n}function me(e,t){let s,n,i,o,r,c,d,h,u,p,f,g,b,T=t[23].name+"";function L(){return t[11](t[23],t[24],t[25])}function x(){return t[12](t[23],t[24],t[25])}function U(){return t[13](t[23],t[24],t[25])}function E(){return t[14](t[23],t[24],t[25])}function O(){return t[15](t[23])}return{key:e,first:null,c(){s=S("button"),n=S("div"),i=S("div"),o=S("img"),c=$(),d=S("div"),h=w(T),p=$(),j(o,"class","shape-selector-item-image svelte-1cou5tj"),a(o.src,r=t[23].image)||j(o,"src",r),j(o,"alt",""),j(i,"class","shape-selector-item-image-div svelte-1cou5tj"),j(d,"class",u="shape-selector-item-name "+(t[8].includes(t[23].id)?"font-selected":"")+" svelte-1cou5tj"),j(n,"class","shape-selector-details svelte-1cou5tj"),j(s,"class",f="shape-selector-item "+(t[8].includes(t[23].id)?"selected":"")+" svelte-1cou5tj"),this.first=s},m(e,t){v(e,s,t),m(s,n),m(n,i),m(i,o),m(n,c),m(n,d),m(d,h),m(s,p),g||(b=[I(s,"mouseenter",L),I(s,"mouseleave",x),I(s,"focus",U),I(s,"blur",E),I(s,"click",O)],g=!0)},p(e,n){t=e,64&n&&!a(o.src,r=t[23].image)&&j(o,"src",r),64&n&&T!==(T=t[23].name+"")&&k(h,T),320&n&&u!==(u="shape-selector-item-name "+(t[8].includes(t[23].id)?"font-selected":"")+" svelte-1cou5tj")&&j(d,"class",u),320&n&&f!==(f="shape-selector-item "+(t[8].includes(t[23].id)?"selected":"")+" svelte-1cou5tj")&&j(s,"class",f)},d(e){e&&y(s),g=!1,l(b)}}}function ge(e){let t,s,n,o,r,a,c,d,h,u,p,f,g,b,w,k,L,x,U,E,O,D,_,M,C=[],N=new Map,B=e[6];const F=e=>e[23].id;for(let t=0;t<B.length;t+=1){let s=fe(e,B,t),n=F(s);N.set(n,C[t]=me(n,s))}return{c(){t=S("div"),s=S("div"),n=S("div"),o=S("h2"),o.textContent="Library",r=$(),a=S("button"),a.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-1cou5tj"/>',c=$(),d=S("div"),h=S("div"),u=S("input"),p=$(),f=S("div"),g=S("div"),b=S("div");for(let e=0;e<C.length;e+=1)C[e].c();w=$(),k=S("div"),L=S("div"),x=S("button"),x.textContent="Import",U=$(),E=S("button"),E.textContent="Cancel",j(o,"class","svelte-1cou5tj"),j(a,"class","close-button svelte-1cou5tj"),j(n,"class","shape-selector-header svelte-1cou5tj"),u.value=e[5],j(u,"placeholder","Search"),T(u,"background-image","url('icons/search-icon.png')"),j(u,"class","svelte-1cou5tj"),j(h,"class","shape-selector-search svelte-1cou5tj"),j(b,"class","shape-selector-grid-inner svelte-1cou5tj"),j(g,"class","scrollbar-wrapper svelte-1cou5tj"),j(f,"class","shape-selector-grid svelte-1cou5tj"),j(d,"class","inner-container svelte-1cou5tj"),j(x,"class","import-button svelte-1cou5tj"),j(E,"class","cancel-button svelte-1cou5tj"),j(L,"class","import-cancel-buttons svelte-1cou5tj"),j(k,"class","import-cancel-buttons-container svelte-1cou5tj"),j(s,"class","shape-selector-library svelte-1cou5tj"),j(t,"class","shape-selector-library-dialog svelte-1cou5tj")},m(l,y){v(l,t,y),m(t,s),m(s,n),m(n,o),m(n,r),m(n,a),e[9](n),m(s,c),m(s,d),m(d,h),m(h,u),m(d,p),m(d,f),m(f,g),m(g,b);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(b,null);m(s,w),m(s,k),m(k,L),m(L,x),m(L,U),m(L,E),e[17](t),D=!0,_||(M=[I(a,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),I(u,"input",e[10]),I(x,"click",e[16]),I(E,"click",(function(){i(e[0])&&e[0].apply(this,arguments)}))],_=!0)},p(t,[s]){e=t,(!D||32&s&&u.value!==e[5])&&(u.value=e[5]),324&s&&(B=e[6],C=ne(C,s,F,1,e,B,N,b,se,me,null,fe))},i(e){D||(R((()=>{D&&(O||(O=te(t,pe,{duration:500},!0)),O.run(1))})),D=!0)},o(e){O||(O=te(t,pe,{duration:500},!1)),O.run(0),D=!1},d(s){s&&y(t),e[9](null);for(let e=0;e<C.length;e+=1)C[e].d();e[17](null),s&&O&&O.end(),_=!1,l(M)}}}function be(e,t,s){let n,l,i,o,r=[],a=[],c=[],{closeLibrary:d}=t,{addNewShapes:h}=t;const u=ue([]),p=ue([]),f=ue([]),m=ue(!1);_((()=>{const e={onUpdateShapes:e=>{u.set(e)},onUpdateFilteredShapes:e=>{p.set(e)},onUpdateSelectedItemIds:e=>{f.set(e)},onUpdateImportButtonSelected:e=>{m.set(e)}};s(2,i=new de(document.getElementById("Container"),e));let t=!1,o=[0,0];l.addEventListener("mousedown",(e=>{t=!0,o=[n.offsetLeft-e.clientX,n.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(s(3,n.style.left=e.clientX+o[0]+"px",n),s(3,n.style.top=e.clientY+o[1]+"px",n))}),!0)})),u.subscribe((e=>{s(7,a=e)})),p.subscribe((e=>{s(6,r=e)})),f.subscribe((e=>{s(8,c=e)}));return e.$$set=e=>{"closeLibrary"in e&&s(0,d=e.closeLibrary),"addNewShapes"in e&&s(1,h=e.addNewShapes)},e.$$.update=()=>{4&e.$$.dirty&&i&&(s(5,o=i.searchTerm),i.currentType,s(6,r=i.filteredShapes),s(7,a=i.shapes),s(8,c=i.selectedItemIds))},[d,h,i,n,l,o,r,a,c,function(e){C[e?"unshift":"push"]((()=>{l=e,s(4,l)}))},e=>i.handleSearch(e.target.value),(e,t,n)=>s(6,t[n].hover=!0,r),(e,t,n)=>s(6,t[n].hover=!1,r),(e,t,n)=>s(6,t[n].hover=!0,r),(e,t,n)=>s(6,t[n].hover=!1,r),e=>i.setSelectedItemId(e.id),()=>{c.length>0&&(h(a.filter((e=>c.includes(e.id)))),d())},function(e){C[e?"unshift":"push"]((()=>{n=e,s(3,n)}))}]}class ve extends ae{constructor(e){super(),re(this,e,be,ge,o,{closeLibrary:0,addNewShapes:1})}}function ye(e,t,s){const n=e.slice();return n[39]=t[s],n[40]=t,n[41]=s,n}function Se(e){let t,s;return t=new ve({props:{closeLibrary:e[12],addNewShapes:e[13]}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,n){le(t,e,n),s=!0},p(e,s){const n={};4096&s[0]&&(n.closeLibrary=e[12]),8192&s[0]&&(n.addNewShapes=e[13]),t.$set(n)},i(e){s||(W(t.$$.fragment,e),s=!0)},o(e){Z(t.$$.fragment,e),s=!1},d(e){ie(t,e)}}}function we(e){let t,s,n,o,r,a,c,d;return{c(){t=S("div"),s=S("button"),s.innerHTML='<img class="button-image-left svelte-1lm5jw4" src="icons/library-icon.png" alt="library"/>Library',n=$(),o=S("button"),o.innerHTML='<img class="button-image-left svelte-1lm5jw4" src="icons/model-icon.png" alt="model"/>Model',j(s,"class","dropdown-button library-button svelte-1lm5jw4"),j(o,"class","dropdown-button model-button svelte-1lm5jw4"),j(t,"class","dropdown-content svelte-1lm5jw4")},m(l,r){v(l,t,r),m(t,s),m(t,n),m(t,o),a=!0,c||(d=[I(s,"click",(function(){i(e[0].openLibrary())&&e[0].openLibrary().apply(this,arguments)})),I(o,"click",console.log("model"))],c=!0)},p(t,s){e=t},i(e){a||(R((()=>{a&&(r||(r=te(t,pe,{duration:500},!0)),r.run(1))})),a=!0)},o(e){r||(r=te(t,pe,{duration:500},!1)),r.run(0),a=!1},d(e){e&&y(t),e&&r&&r.end(),c=!1,l(d)}}}function $e(s,n){let o,r,c,h,u,p,g,b,L,x,U,D,_,M,C,N,B,F,P,H,A,X,z=n[39].name+"";function Y(...e){return n[20](n[39],...e)}function J(...e){return n[21](n[39],...e)}function K(...e){return n[22](n[39],...e)}function Q(...e){return n[23](n[39],...e)}function V(){return n[24](n[39],n[40],n[41])}function W(){return n[25](n[39],n[40],n[41])}function Z(){return n[26](n[39],n[40],n[41])}function te(){return n[27](n[39],n[40],n[41])}function se(){return n[28](n[39])}return{key:s,first:null,c(){o=S("button"),r=S("div"),c=S("button"),h=$(),u=S("button"),b=$(),L=S("div"),x=S("div"),U=S("img"),_=$(),M=S("div"),C=w(z),B=$(),j(c,"aria-label","Duplicate shape"),j(c,"class","duplicate-icon svelte-1lm5jw4"),T(c,"display",n[39].hover?"block":"none"),T(c,"background-image","url('icons/duplicate-icon.png')"),j(u,"aria-label","Delete shape"),j(u,"class",p="delete-icon "+(n[39].deletable?"":"button-disabled")+" svelte-1lm5jw4"),T(u,"display",n[39].hover?"block":"none"),T(u,"background-image","url('icons/delete-icon.png')"),u.disabled=g=!n[39].deletable,j(r,"class","shape-selector-item-buttons svelte-1lm5jw4"),j(U,"class","shape-selector-item-image svelte-1lm5jw4"),a(U.src,D=n[39].image)||j(U,"src",D),j(U,"alt",""),j(x,"class","shape-selector-item-image-div svelte-1lm5jw4"),j(M,"class",N="shape-selector-item-name "+(n[39].id===n[7]?"font-selected":"")+" svelte-1lm5jw4"),j(L,"class","shape-selector-details svelte-1lm5jw4"),j(o,"class",F="shape-selector-item "+(n[39].id===n[7]?"selected":"")+" "+(n[8].includes(n[39].id)?"recently-imported":"")+" "+(n[39].isDeleting?"is-deleting":"")+" svelte-1lm5jw4"),this.first=o},m(t,s){var l;v(t,o,s),m(o,r),m(r,c),m(r,h),m(r,u),m(o,b),m(o,L),m(L,x),m(x,U),m(L,_),m(L,M),m(M,C),m(o,B),A||(X=[I(c,"click",Y),I(c,"keydown",J),I(u,"click",K),I(u,"keydown",Q),(l=P=n[14].call(null,o,n[8].includes(n[39].id)),l&&i(l.destroy)?l.destroy:e),I(o,"mouseenter",V),I(o,"mouseleave",W),I(o,"focus",Z),I(o,"blur",te),I(o,"click",se)],A=!0)},p(e,t){n=e,64&t[0]&&T(c,"display",n[39].hover?"block":"none"),64&t[0]&&p!==(p="delete-icon "+(n[39].deletable?"":"button-disabled")+" svelte-1lm5jw4")&&j(u,"class",p),64&t[0]&&T(u,"display",n[39].hover?"block":"none"),64&t[0]&&g!==(g=!n[39].deletable)&&(u.disabled=g),64&t[0]&&!a(U.src,D=n[39].image)&&j(U,"src",D),64&t[0]&&z!==(z=n[39].name+"")&&k(C,z),192&t[0]&&N!==(N="shape-selector-item-name "+(n[39].id===n[7]?"font-selected":"")+" svelte-1lm5jw4")&&j(M,"class",N),448&t[0]&&F!==(F="shape-selector-item "+(n[39].id===n[7]?"selected":"")+" "+(n[8].includes(n[39].id)?"recently-imported":"")+" "+(n[39].isDeleting?"is-deleting":"")+" svelte-1lm5jw4")&&j(o,"class",F),P&&i(P.update)&&320&t[0]&&P.update.call(null,n[8].includes(n[39].id))},i(s){H||R((()=>{H=function(s,n,l){const o={direction:"in"};let r,a,c=n(s,l,o),h=!1,u=0;function p(){r&&O(s,r)}function m(){const{delay:n=0,duration:l=300,easing:i=t,tick:o=e,css:m}=c||ee;m&&(r=E(s,0,1,l,n,i,m,u++)),o(0,1);const g=d()+n,b=g+l;a&&a.abort(),h=!0,R((()=>G(s,!0,"start"))),a=f((e=>{if(h){if(e>=b)return o(1,0),G(s,!0,"end"),p(),h=!1;if(e>=g){const t=i((e-g)/l);o(t,1-t)}}return h}))}let g=!1;return{start(){g||(g=!0,O(s),i(c)?(c=c(o),q().then(m)):m())},invalidate(){g=!1},end(){h&&(p(),h=!1)}}}(o,pe,{}),H.start()}))},o:e,d(e){e&&y(o),A=!1,l(X)}}}function Ie(e){let t,s,n,o,r,c,d,h,u,p,f,g,b,k,L,x,U,E,O,D,_,M,C,N,B,F,P,R,H,A,X,z,Y,q,G,J,K,ee,te,le,ie,oe,re,ae,ce,de,he,ue=[],pe=new Map,fe=e[11]&&Se(e),me=e[10]&&we(e),ge=e[6];const be=e=>e[39].id;for(let t=0;t<ge.length;t+=1){let s=ye(e,ge,t),n=be(s);pe.set(n,ue[t]=$e(n,s))}return{c(){t=S("div"),fe&&fe.c(),s=$(),n=S("div"),o=S("div"),r=S("div"),c=S("div"),c.innerHTML='<img src="icons/header-logo.png" alt="header logo" class="svelte-1lm5jw4"/> \n          <h2 class="svelte-1lm5jw4">Shape Editor</h2>',d=$(),h=S("button"),h.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-1lm5jw4"/>',u=$(),p=S("div"),f=S("div"),g=S("h3"),g.textContent="Selection Mode",b=$(),k=S("div"),L=S("div"),x=S("button"),U=S("img"),O=w("Turtle"),_=$(),M=S("button"),C=S("img"),B=w("Link"),P=$(),R=S("div"),H=S("button"),H.innerHTML='<img class="button-image-right svelte-1lm5jw4" src="icons/create-new-icon.png" alt="create new"/>Create New',A=$(),X=S("div"),z=S("button"),Y=S("img"),G=w("Import From..."),K=$(),me&&me.c(),ee=$(),te=S("div"),le=S("input"),ie=$(),oe=S("div"),re=S("div"),ae=S("div");for(let e=0;e<ue.length;e+=1)ue[e].c();j(c,"class","shape-selector-header-logo svelte-1lm5jw4"),j(h,"class","close-button svelte-1lm5jw4"),j(r,"class","shape-selector-header svelte-1lm5jw4"),j(g,"class","svelte-1lm5jw4"),j(U,"class","button-image-left svelte-1lm5jw4"),a(U.src,E="icons/turtle-icon.png")||j(U,"src","icons/turtle-icon.png"),j(U,"alt","turtle button"),j(x,"class",D="turtle-button "+("turtle"===e[5]?"selected-button":"unselected-button")+" svelte-1lm5jw4"),j(C,"class","button-image-left svelte-1lm5jw4"),a(C.src,N="icons/link-icon.png")||j(C,"src","icons/link-icon.png"),j(C,"alt","link button"),j(M,"class",F="link-button "+("link"===e[5]?"selected-button":"unselected-button")+" svelte-1lm5jw4"),j(L,"class","mode-selector-buttons svelte-1lm5jw4"),j(H,"class","create-new-button svelte-1lm5jw4"),j(Y,"class","button-image-right svelte-1lm5jw4"),a(Y.src,q="icons/import-icon.png")||j(Y,"src","icons/import-icon.png"),j(Y,"alt","import"),j(z,"class",J="import-shapes-button "+(e[10]?"clicked":"")+" svelte-1lm5jw4"),j(X,"class","dropdown svelte-1lm5jw4"),j(R,"class","shape-selector-buttons svelte-1lm5jw4"),j(k,"class","selector-buttons svelte-1lm5jw4"),j(f,"class","mode-selector svelte-1lm5jw4"),le.value=e[4],j(le,"placeholder","Search"),T(le,"background-image","url('icons/search-icon.png')"),j(le,"class","svelte-1lm5jw4"),j(te,"class","shape-selector-search svelte-1lm5jw4"),j(ae,"class","shape-selector-grid-inner svelte-1lm5jw4"),j(re,"class","scrollbar-wrapper svelte-1lm5jw4"),j(oe,"class","shape-selector-grid svelte-1lm5jw4"),j(p,"class","inner-container svelte-1lm5jw4"),j(o,"class","shape-selector svelte-1lm5jw4"),j(n,"class","shape-selector-dialog svelte-1lm5jw4"),T(n,"display",e[9]?"block":"none",1)},m(l,a){v(l,t,a),fe&&fe.m(t,null),m(t,s),m(t,n),m(n,o),m(o,r),m(r,c),m(r,d),m(r,h),e[16](r),m(o,u),m(o,p),m(p,f),m(f,g),m(f,b),m(f,k),m(k,L),m(L,x),m(x,U),m(x,O),m(L,_),m(L,M),m(M,C),m(M,B),m(k,P),m(k,R),m(R,H),m(R,A),m(R,X),m(X,z),m(z,Y),m(z,G),m(X,K),me&&me.m(X,null),m(p,ee),m(p,te),m(te,le),m(p,ie),m(p,oe),m(oe,re),m(re,ae);for(let e=0;e<ue.length;e+=1)ue[e]&&ue[e].m(ae,null);e[29](ae),e[30](n),ce=!0,de||(he=[I(h,"click",e[15]),I(x,"click",e[17]),I(M,"click",e[18]),I(H,"click",(function(){i(e[0].createShape())&&e[0].createShape().apply(this,arguments)})),I(z,"click",(function(){i(e[0].importShapes())&&e[0].importShapes().apply(this,arguments)})),I(le,"input",e[19])],de=!0)},p(l,i){(e=l)[11]?fe?(fe.p(e,i),2048&i[0]&&W(fe,1)):(fe=Se(e),fe.c(),W(fe,1),fe.m(t,s)):fe&&(Q(),Z(fe,1,1,(()=>{fe=null})),V()),(!ce||32&i[0]&&D!==(D="turtle-button "+("turtle"===e[5]?"selected-button":"unselected-button")+" svelte-1lm5jw4"))&&j(x,"class",D),(!ce||32&i[0]&&F!==(F="link-button "+("link"===e[5]?"selected-button":"unselected-button")+" svelte-1lm5jw4"))&&j(M,"class",F),(!ce||1024&i[0]&&J!==(J="import-shapes-button "+(e[10]?"clicked":"")+" svelte-1lm5jw4"))&&j(z,"class",J),e[10]?me?(me.p(e,i),1024&i[0]&&W(me,1)):(me=we(e),me.c(),W(me,1),me.m(X,null)):me&&(Q(),Z(me,1,1,(()=>{me=null})),V()),(!ce||16&i[0]&&le.value!==e[4])&&(le.value=e[4]),449&i[0]&&(ge=e[6],ue=ne(ue,i,be,1,e,ge,pe,ae,se,$e,null,ye)),(!ce||512&i[0])&&T(n,"display",e[9]?"block":"none",1)},i(e){if(!ce){W(fe),W(me);for(let e=0;e<ge.length;e+=1)W(ue[e]);ce=!0}},o(e){Z(fe),Z(me),ce=!1},d(s){s&&y(t),fe&&fe.d(),e[16](null),me&&me.d();for(let e=0;e<ue.length;e+=1)ue[e].d();e[29](null),e[30](null),de=!1,l(he)}}}function je(e,t,s){let n,l,i,o,r,a,c,d,h=[],u=null,p=[],f=!0,m=!1,g=!1;const b=ue([]),v=ue([]),y=ue(null),S=ue([]),w=ue(!0),$=ue(!1),I=ue(!1);_((()=>{const e={onUpdateShapes:e=>{b.set(e)},onUpdateFilteredShapes:e=>{v.set(e)},onUpdateSelectedItemId:e=>{y.set(e)},onUpdateDialogOpen:e=>{w.set(e)},onUpdateImportButtonSelected:e=>{$.set(e)},onUpdateLibraryOpen:e=>{I.set(e)},onUpdateRecentlyImportedShapes:e=>{S.set(e)}};s(0,o=new ce(document.getElementById("Container"),e));let t=!1,i=[0,0];s(12,c=()=>{o.closeLibrary()}),s(13,d=e=>{o.addNewShapes(e)}),l.addEventListener("mousedown",(e=>{t=!0,i=[n.offsetLeft-e.clientX,n.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(s(1,n.style.left=e.clientX+i[0]+"px",n),s(1,n.style.top=e.clientY+i[1]+"px",n))}),!0)})),b.subscribe((e=>{})),v.subscribe((e=>{s(6,h=e)})),y.subscribe((e=>{s(7,u=e)})),w.subscribe((e=>{s(9,f=e)})),$.subscribe((e=>{s(10,m=e)})),I.subscribe((e=>{s(11,g=e)})),S.subscribe((e=>{s(8,p=e)}));return e.$$.update=()=>{1&e.$$.dirty[0]&&o&&(s(4,r=o.searchTerm),s(5,a=o.currentType),s(6,h=o.filteredShapes),o.shapes,s(7,u=o.selectedItemId),s(8,p=o.recentlyImportedShapeIds),s(9,f=o.dialogOpen),s(10,m=o.importButtonSelected),s(11,g=o.libraryOpen))},[o,n,l,i,r,a,h,u,p,f,m,g,c,d,function(e,t){if(t){let t=e.offsetTop-i.offsetTop;(t<i.scrollTop||t>i.scrollTop+i.offsetHeight)&&s(3,i.scrollTop=t,i)}},()=>o.toggleDialog(),function(e){C[e?"unshift":"push"]((()=>{l=e,s(2,l)}))},()=>{s(5,a="turtle"),o.filterShapes("turtle")},()=>{s(5,a="link"),o.filterShapes("link")},e=>o.handleSearch(e.target.value),(e,t)=>{t.stopPropagation(),o.duplicateShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),o.duplicateShape(e.id))},(e,t)=>{t.stopPropagation(),o.deleteShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),o.deleteShape(e.id))},(e,t,n)=>s(6,t[n].hover=!0,h),(e,t,n)=>s(6,t[n].hover=!1,h),(e,t,n)=>s(6,t[n].hover=!0,h),(e,t,n)=>s(6,t[n].hover=!1,h),e=>o.setSelectedItemId(e.id),function(e){C[e?"unshift":"push"]((()=>{i=e,s(3,i)}))},function(e){C[e?"unshift":"push"]((()=>{n=e,s(1,n)}))}]}return new class extends ae{constructor(e){super(),re(this,e,je,Ie,o,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
