var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function s(){return Object.create(null)}function i(e){e.forEach(n)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a;function r(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}const c="undefined"!=typeof window;let d=c?()=>window.performance.now():()=>Date.now(),h=c?e=>requestAnimationFrame(e):e;const u=new Set;function p(e){u.forEach((t=>{t.c(e)||(u.delete(t),t.f())})),0!==u.size&&h(p)}function m(e,t){e.appendChild(t)}function f(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function g(e){const t=y("style");return function(e,t){m(e.head||e,t),t.sheet}(f(e),t),t.sheet}function b(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function S(){return w(" ")}function $(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function k(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function I(e,t){t=""+t,e.data!==t&&(e.data=t)}function z(e,t,n,s){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}const L=new Map;let T,x=0;function U(e,t,n,s,i,o,l,a=0){const r=16.666/s;let c="{\n";for(let e=0;e<=1;e+=r){const s=t+(n-t)*o(e);c+=100*e+`%{${l(s,1-s)}}\n`}const d=c+`100% {${l(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,u=f(e),{stylesheet:p,rules:m}=L.get(u)||function(e,t){const n={stylesheet:g(t),rules:{}};return L.set(e,n),n}(u,e);m[h]||(m[h]=!0,p.insertRule(`@keyframes ${h} ${d}`,p.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${h} ${s}ms linear ${i}ms 1 both`,x+=1,h}function E(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-s.length;i&&(e.style.animation=s.join(", "),x-=i,x||h((()=>{x||(L.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&v(t)})),L.clear())})))}function O(e){T=e}function _(e){(function(){if(!T)throw new Error("Function called outside component initialization");return T})().$$.on_mount.push(e)}const M=[],C=[];let N=[];const B=[],F=Promise.resolve();let D=!1;function P(e){N.push(e)}const j=new Set;let A,H=0;function X(){if(0!==H)return;const e=T;do{try{for(;H<M.length;){const e=M[H];H++,O(e),R(e.$$)}}catch(e){throw M.length=0,H=0,e}for(O(null),M.length=0,H=0;C.length;)C.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];j.has(t)||(j.add(t),t())}N.length=0}while(M.length);for(;B.length;)B.pop()();D=!1,j.clear(),O(e)}function R(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}function Y(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,s,t),i}(`${t?"intro":"outro"}${n}`))}const q=new Set;let G;function J(){G={r:0,c:[],p:G}}function K(){G.r||i(G.c),G=G.p}function Q(e,t){e&&e.i&&(q.delete(e),e.i(t))}function V(e,t,n,s){if(e&&e.o){if(q.has(e))return;q.add(e),G.c.push((()=>{q.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const W={duration:0};function Z(n,s,l,a){const r={direction:"both"};let c=s(n,l,r),m=a?0:1,f=null,g=null,b=null;function v(){b&&E(n,b)}function y(e,t){const n=e.b-m;return t*=Math.abs(n),{a:m,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function w(s){const{delay:o=0,duration:l=300,easing:a=t,tick:r=e,css:w}=c||W,S={start:d()+o,b:s};s||(S.group=G,G.r+=1),f||g?g=S:(w&&(v(),b=U(n,m,s,l,o,a,w)),s&&r(0,1),f=y(S,l),P((()=>Y(n,s,"start"))),function(e){let t;0===u.size&&h(p),new Promise((n=>{u.add(t={c:e,f:n})}))}((e=>{if(g&&e>g.start&&(f=y(g,l),g=null,Y(n,f.b,"start"),w&&(v(),b=U(n,m,f.b,f.duration,0,a,c.css))),f)if(e>=f.end)r(m=f.b,1-m),Y(n,f.b,"end"),g||(f.b?v():--f.group.r||i(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;m=f.a+f.d*a(t/f.duration),r(m,1-m)}return!(!f&&!g)})))}return{run(e){o(c)?(A||(A=Promise.resolve(),A.then((()=>{A=null}))),A).then((()=>{c=c(r),w(e)})):w(e)},end(){v(),f=g=null}}}function ee(e,t){e.d(1),t.delete(e.key)}function te(e,t){V(e,1,1,(()=>{t.delete(e.key)}))}function ne(e,t,n,s,o,l,a,r,c,d,h,u){let p=e.length,m=l.length,f=p;const g={};for(;f--;)g[e[f].key]=f;const b=[],v=new Map,y=new Map,w=[];for(f=m;f--;){const e=u(o,l,f),i=n(e);let r=a.get(i);r?s&&w.push((()=>r.p(e,t))):(r=d(i,e),r.c()),v.set(i,b[f]=r),i in g&&y.set(i,Math.abs(f-g[i]))}const S=new Set,$=new Set;function k(e){Q(e,1),e.m(r,h),a.set(e.key,e),h=e.first,m--}for(;p&&m;){const t=b[m-1],n=e[p-1],s=t.key,i=n.key;t===n?(h=t.first,p--,m--):v.has(i)?!a.has(s)||S.has(s)?k(t):$.has(i)?p--:y.get(s)>y.get(i)?($.add(s),k(t)):(S.add(i),p--):(c(n,a),p--)}for(;p--;){const t=e[p];v.has(t.key)||c(t,a)}for(;m;)k(b[m-1]);return i(w),b}function se(e,t,s,l){const{fragment:a,after_update:r}=e.$$;a&&a.m(t,s),l||P((()=>{const t=e.$$.on_mount.map(n).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),r.forEach(P)}function ie(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];N.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),N=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function oe(e,t){-1===e.$$.dirty[0]&&(M.push(e),D||(D=!0,F.then(X)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(t,n,o,l,a,r,c,d=[-1]){const h=T;O(t);const u=t.$$={fragment:null,ctx:[],props:r,update:e,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:s(),dirty:d,skip_bound:!1,root:n.target||h.$$.root};c&&c(u.root);let p=!1;if(u.ctx=o?o(t,n.props||{},((e,n,...s)=>{const i=s.length?s[0]:n;return u.ctx&&a(u.ctx[e],u.ctx[e]=i)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](i),p&&oe(t,e)),n})):[],u.update(),p=!0,i(u.before_update),u.fragment=!!l&&l(u.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);u.fragment&&u.fragment.l(e),e.forEach(v)}else u.fragment&&u.fragment.c();n.intro&&Q(t.$$.fragment),se(t,n.target,n.anchor,n.customElement),X()}O(h)}class ae{$destroy(){ie(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class re{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:6,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0,this.importButtonSelected=!1,this.libraryOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,this.config.onUpdateDialogOpen(this.dialogOpen)}openLibrary(){this.libraryOpen=!0,this.importButtonSelected=!1,this.config.onUpdateLibraryOpen(this.libraryOpen),this.config.onUpdateImportButtonSelected(this.importButtonSelected)}closeLibrary(){console.log("close library"),this.libraryOpen=!1,this.config.onUpdateLibraryOpen(this.libraryOpen)}createShape(){const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}importShapes(){this.importButtonSelected=!this.importButtonSelected,this.config.onUpdateImportButtonSelected(this.importButtonSelected)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:n}=t,s=n.match(/^(.*?)(\s(\d+))?$/);if(s){const n=s[1],i=[];for(const e of this.shapes)if(0===e.name.indexOf(n)){const t=e.name.match(/^.*\s(\d+)$/);t&&i.push(Number(t[1]))}let o=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){o=t;break}let l=o;if(i.length>=1){let e=Math.max(...i);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${n} ${e}`){l=t;break}}const a=`${n} ${i.length?Math.max(...i)+1:1}`,r=Object.assign(Object.assign({},t),{name:a,hover:!1,deletable:!0}),c=Math.max(...this.shapes.map((e=>e.id)))+1;r.id=c,this.shapes.splice(l+1,0,r),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}addNewShape(e){if(e.id=Math.max(...this.shapes.map((e=>e.id)))+1,e.type=this.currentType,e.hover=!1,e.deletable=!0,"default"===e.name)return e.deletable=!1,this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.selectedItemId=e.id,void this.config.onUpdateSelectedItemId(this.selectedItemId);let t=-1;for(let n=0;n<this.shapes.length;n++)if("default"!=this.shapes[n].name&&this.shapes[n].name>e.name){t=n;break}-1===t&&(t=this.shapes.length),this.shapes.splice(t,0,e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.selectedItemId=e.id,this.config.onUpdateSelectedItemId(this.selectedItemId),this.filterShapes(this.currentType)}deleteShape(e){let t=-1;for(let n=0;n<this.shapes.length;n++)if(this.shapes[n].id===e){t=n;break}-1!==t&&(this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}class ce{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}const de=[];function he(t,n=e){let s;const i=new Set;function o(e){if(l(t,e)&&(t=e,s)){const e=!de.length;for(const e of i)e[1](),de.push(e,t);if(e){for(let e=0;e<de.length;e+=2)de[e][0](de[e+1]);de.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(l,a=e){const r=[l,a];return i.add(r),1===i.size&&(s=n(o)||e),l(t),()=>{i.delete(r),0===i.size&&s&&(s(),s=null)}}}}function ue(e,{delay:n=0,duration:s=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:i,css:e=>"opacity: "+e*o}}function pe(e,t,n){const s=e.slice();return s[23]=t[n],s[24]=t,s[25]=n,s}function me(e,t){let n,s,o,l,a,c,d,h,u,p,f,g,z,L=t[23].name+"";function T(){return t[11](t[23],t[24],t[25])}function x(){return t[12](t[23],t[24],t[25])}function U(){return t[13](t[23],t[24],t[25])}function E(){return t[14](t[23],t[24],t[25])}function O(){return t[15](t[23])}return{key:e,first:null,c(){n=y("button"),s=y("div"),o=y("div"),l=y("img"),c=S(),d=y("div"),h=w(L),p=S(),k(l,"class","shape-selector-item-image svelte-m87g6w"),r(l.src,a=t[23].image)||k(l,"src",a),k(l,"alt",""),k(o,"class","shape-selector-item-image-div svelte-m87g6w"),k(d,"class",u="shape-selector-item-name "+(t[23].id===t[8]?"font-selected":"")+" svelte-m87g6w"),k(s,"class","shape-selector-details svelte-m87g6w"),k(n,"class",f="shape-selector-item "+(t[23].id===t[8]?"selected":"")+" svelte-m87g6w"),this.first=n},m(e,t){b(e,n,t),m(n,s),m(s,o),m(o,l),m(s,c),m(s,d),m(d,h),m(n,p),g||(z=[$(n,"mouseenter",T),$(n,"mouseleave",x),$(n,"focus",U),$(n,"blur",E),$(n,"click",O)],g=!0)},p(e,s){t=e,64&s&&!r(l.src,a=t[23].image)&&k(l,"src",a),64&s&&L!==(L=t[23].name+"")&&I(h,L),320&s&&u!==(u="shape-selector-item-name "+(t[23].id===t[8]?"font-selected":"")+" svelte-m87g6w")&&k(d,"class",u),320&s&&f!==(f="shape-selector-item "+(t[23].id===t[8]?"selected":"")+" svelte-m87g6w")&&k(n,"class",f)},d(e){e&&v(n),g=!1,i(z)}}}function fe(e){let t,n,s,l,a,r,c,d,h,u,p,f,g,w,I,L,T,x,U,E,O,_,M,C=[],N=new Map,B=e[6];const F=e=>e[23].id;for(let t=0;t<B.length;t+=1){let n=pe(e,B,t),s=F(n);N.set(s,C[t]=me(s,n))}return{c(){t=y("div"),n=y("div"),s=y("div"),l=y("h2"),l.textContent="Library",a=S(),r=y("button"),r.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-m87g6w"/>',c=S(),d=y("div"),h=y("div"),u=y("input"),p=S(),f=y("div"),g=y("div");for(let e=0;e<C.length;e+=1)C[e].c();w=S(),I=y("div"),L=y("div"),T=y("button"),T.textContent="Import",x=S(),U=y("button"),U.textContent="Cancel",k(l,"class","svelte-m87g6w"),k(r,"class","close-button svelte-m87g6w"),k(s,"class","shape-selector-header svelte-m87g6w"),u.value=e[5],k(u,"placeholder","Search"),z(u,"background-image","url('icons/search-icon.png')"),k(u,"class","svelte-m87g6w"),k(h,"class","shape-selector-search svelte-m87g6w"),k(g,"class","shape-selector-grid-inner svelte-m87g6w"),k(f,"class","shape-selector-grid svelte-m87g6w"),k(d,"class","inner-container svelte-m87g6w"),k(T,"class","import-button svelte-m87g6w"),k(U,"class","cancel-button svelte-m87g6w"),k(L,"class","import-cancel-buttons svelte-m87g6w"),k(I,"class","import-cancel-buttons-container svelte-m87g6w"),k(n,"class","shape-selector-library svelte-m87g6w"),k(t,"class","shape-selector-library-dialog svelte-m87g6w")},m(i,v){b(i,t,v),m(t,n),m(n,s),m(s,l),m(s,a),m(s,r),e[9](s),m(n,c),m(n,d),m(d,h),m(h,u),m(d,p),m(d,f),m(f,g);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(g,null);m(n,w),m(n,I),m(I,L),m(L,T),m(L,x),m(L,U),e[17](t),O=!0,_||(M=[$(r,"click",(function(){o(e[0])&&e[0].apply(this,arguments)})),$(u,"input",e[10]),$(T,"click",e[16]),$(U,"click",(function(){o(e[0])&&e[0].apply(this,arguments)}))],_=!0)},p(t,[n]){e=t,(!O||32&n&&u.value!==e[5])&&(u.value=e[5]),324&n&&(B=e[6],C=ne(C,n,F,1,e,B,N,g,ee,me,null,pe))},i(e){O||(P((()=>{O&&(E||(E=Z(t,ue,{duration:500},!0)),E.run(1))})),O=!0)},o(e){E||(E=Z(t,ue,{duration:500},!1)),E.run(0),O=!1},d(n){n&&v(t),e[9](null);for(let e=0;e<C.length;e+=1)C[e].d();e[17](null),n&&E&&E.end(),_=!1,i(M)}}}function ge(e,t,n){let s,i,o,l,a=[],r=[],c=null,{closeLibrary:d}=t,{addNewShape:h}=t;const u=he([]),p=he([]),m=he(null),f=he(!1);_((()=>{const e={onUpdateShapes:e=>{u.set(e)},onUpdateFilteredShapes:e=>{p.set(e)},onUpdateSelectedItemId:e=>{m.set(e)},onUpdateImportButtonSelected:e=>{f.set(e)}};n(2,o=new ce(document.getElementById("Container"),e));let t=!1,l=[0,0];i.addEventListener("mousedown",(e=>{t=!0,l=[s.offsetLeft-e.clientX,s.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(n(3,s.style.left=e.clientX+l[0]+"px",s),n(3,s.style.top=e.clientY+l[1]+"px",s))}),!0)})),u.subscribe((e=>{n(7,r=e)})),p.subscribe((e=>{n(6,a=e)})),m.subscribe((e=>{n(8,c=e)}));return e.$$set=e=>{"closeLibrary"in e&&n(0,d=e.closeLibrary),"addNewShape"in e&&n(1,h=e.addNewShape)},e.$$.update=()=>{4&e.$$.dirty&&o&&(n(5,l=o.searchTerm),o.currentType,n(6,a=o.filteredShapes),n(7,r=o.shapes),n(8,c=o.selectedItemId))},[d,h,o,s,i,l,a,r,c,function(e){C[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},e=>o.handleSearch(e.target.value),(e,t,s)=>n(6,t[s].hover=!0,a),(e,t,s)=>n(6,t[s].hover=!1,a),(e,t,s)=>n(6,t[s].hover=!0,a),(e,t,s)=>n(6,t[s].hover=!1,a),e=>o.setSelectedItemId(e.id),()=>{c&&(h(r.find((e=>e.id===c))),d())},function(e){C[e?"unshift":"push"]((()=>{s=e,n(3,s)}))}]}class be extends ae{constructor(e){super(),le(this,e,ge,fe,l,{closeLibrary:0,addNewShape:1})}}function ve(e,t,n){const s=e.slice();return s[34]=t[n],s[35]=t,s[36]=n,s}function ye(e){let t,n;return t=new be({props:{closeLibrary:e[10],addNewShape:e[11]}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,s){se(t,e,s),n=!0},p(e,n){const s={};1024&n[0]&&(s.closeLibrary=e[10]),2048&n[0]&&(s.addNewShape=e[11]),t.$set(s)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){ie(t,e)}}}function we(e){let t,n,s,l,a,r,c,d;return{c(){t=y("div"),n=y("button"),n.innerHTML='<img class="button-image-left svelte-z68n1m" src="icons/library-icon.png" alt="library"/>Library',s=S(),l=y("button"),l.innerHTML='<img class="button-image-left svelte-z68n1m" src="icons/model-icon.png" alt="model"/>Model',k(n,"class","dropdown-button library-button svelte-z68n1m"),k(l,"class","dropdown-button model-button svelte-z68n1m"),k(t,"class","dropdown-content svelte-z68n1m")},m(i,a){b(i,t,a),m(t,n),m(t,s),m(t,l),r=!0,c||(d=[$(n,"click",(function(){o(e[0].openLibrary())&&e[0].openLibrary().apply(this,arguments)})),$(l,"click",console.log("model"))],c=!0)},p(t,n){e=t},i(e){r||(P((()=>{r&&(a||(a=Z(t,ue,{duration:500},!0)),a.run(1))})),r=!0)},o(e){a||(a=Z(t,ue,{duration:500},!1)),a.run(0),r=!1},d(e){e&&v(t),e&&a&&a.end(),c=!1,i(d)}}}function Se(e,t){let n,s,o,l,a,c,d,h,u,p,f,g,L,T,x,U,E,O,_,M,C,N,B=t[34].name+"";function F(...e){return t[17](t[34],...e)}function D(...e){return t[18](t[34],...e)}function j(...e){return t[19](t[34],...e)}function A(...e){return t[20](t[34],...e)}function H(){return t[21](t[34],t[35],t[36])}function X(){return t[22](t[34],t[35],t[36])}function R(){return t[23](t[34],t[35],t[36])}function Y(){return t[24](t[34],t[35],t[36])}function q(){return t[25](t[34])}return{key:e,first:null,c(){n=y("button"),s=y("div"),o=y("button"),l=S(),a=y("button"),h=S(),u=y("div"),p=y("div"),f=y("img"),L=S(),T=y("div"),x=w(B),E=S(),k(o,"aria-label","Duplicate shape"),k(o,"class","duplicate-icon svelte-z68n1m"),z(o,"display",t[34].hover?"block":"none"),z(o,"background-image","url('icons/duplicate-icon.png')"),k(a,"aria-label","Delete shape"),k(a,"class",c="delete-icon "+(t[34].deletable?"":"button-disabled")+" svelte-z68n1m"),z(a,"display",t[34].hover?"block":"none"),z(a,"background-image","url('icons/delete-icon.png')"),a.disabled=d=!t[34].deletable,k(s,"class","shape-selector-item-buttons svelte-z68n1m"),k(f,"class","shape-selector-item-image svelte-z68n1m"),r(f.src,g=t[34].image)||k(f,"src",g),k(f,"alt",""),k(p,"class","shape-selector-item-image-div svelte-z68n1m"),k(T,"class",U="shape-selector-item-name "+(t[34].id===t[6]?"font-selected":"")+" svelte-z68n1m"),k(u,"class","shape-selector-details svelte-z68n1m"),k(n,"class",O="shape-selector-item "+(t[34].id===t[6]?"selected":"")+" svelte-z68n1m"),this.first=n},m(e,t){b(e,n,t),m(n,s),m(s,o),m(s,l),m(s,a),m(n,h),m(n,u),m(u,p),m(p,f),m(u,L),m(u,T),m(T,x),m(n,E),M=!0,C||(N=[$(o,"click",F),$(o,"keydown",D),$(a,"click",j),$(a,"keydown",A),$(n,"mouseenter",H),$(n,"mouseleave",X),$(n,"focus",R),$(n,"blur",Y),$(n,"click",q)],C=!0)},p(e,s){t=e,(!M||32&s[0])&&z(o,"display",t[34].hover?"block":"none"),(!M||32&s[0]&&c!==(c="delete-icon "+(t[34].deletable?"":"button-disabled")+" svelte-z68n1m"))&&k(a,"class",c),(!M||32&s[0])&&z(a,"display",t[34].hover?"block":"none"),(!M||32&s[0]&&d!==(d=!t[34].deletable))&&(a.disabled=d),(!M||32&s[0]&&!r(f.src,g=t[34].image))&&k(f,"src",g),(!M||32&s[0])&&B!==(B=t[34].name+"")&&I(x,B),(!M||96&s[0]&&U!==(U="shape-selector-item-name "+(t[34].id===t[6]?"font-selected":"")+" svelte-z68n1m"))&&k(T,"class",U),(!M||96&s[0]&&O!==(O="shape-selector-item "+(t[34].id===t[6]?"selected":"")+" svelte-z68n1m"))&&k(n,"class",O)},i(e){M||(P((()=>{M&&(_||(_=Z(n,ue,{duration:500},!0)),_.run(1))})),M=!0)},o(e){_||(_=Z(n,ue,{duration:500},!1)),_.run(0),M=!1},d(e){e&&v(n),e&&_&&_.end(),C=!1,i(N)}}}function $e(e){let t,n,s,l,a,c,d,h,u,p,f,g,I,L,T,x,U,E,O,_,M,C,N,B,F,D,P,j,A,H,X,R,Y,q,G,W,Z,ee,se,ie,oe,le,ae,re,ce,de,he=[],ue=new Map,pe=e[9]&&ye(e),me=e[8]&&we(e),fe=e[5];const ge=e=>e[34].id;for(let t=0;t<fe.length;t+=1){let n=ve(e,fe,t),s=ge(n);ue.set(s,he[t]=Se(s,n))}return{c(){t=y("div"),pe&&pe.c(),n=S(),s=y("div"),l=y("div"),a=y("div"),c=y("div"),c.innerHTML='<img src="icons/header-logo.png" alt="header logo" class="svelte-z68n1m"/> \n          <h2 class="svelte-z68n1m">Shape Editor</h2>',d=S(),h=y("button"),h.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-z68n1m"/>',u=S(),p=y("div"),f=y("div"),g=y("h3"),g.textContent="Selection Mode",I=S(),L=y("div"),T=y("div"),x=y("button"),U=y("img"),O=w("Turtle"),M=S(),C=y("button"),N=y("img"),F=w("Link"),P=S(),j=y("div"),A=y("button"),A.innerHTML='<img class="button-image-right svelte-z68n1m" src="icons/create-new-icon.png" alt="create new"/>Create New',H=S(),X=y("div"),R=y("button"),Y=y("img"),G=w("Import From..."),Z=S(),me&&me.c(),ee=S(),se=y("div"),ie=y("input"),oe=S(),le=y("div"),ae=y("div");for(let e=0;e<he.length;e+=1)he[e].c();k(c,"class","shape-selector-header-logo svelte-z68n1m"),k(h,"class","close-button svelte-z68n1m"),k(a,"class","shape-selector-header svelte-z68n1m"),k(g,"class","svelte-z68n1m"),k(U,"class","button-image-left svelte-z68n1m"),r(U.src,E="icons/turtle-icon.png")||k(U,"src","icons/turtle-icon.png"),k(U,"alt","turtle button"),k(x,"class",_="turtle-button "+("turtle"===e[4]?"selected-button":"unselected-button")+" svelte-z68n1m"),k(N,"class","button-image-left svelte-z68n1m"),r(N.src,B="icons/link-icon.png")||k(N,"src","icons/link-icon.png"),k(N,"alt","link button"),k(C,"class",D="link-button "+("link"===e[4]?"selected-button":"unselected-button")+" svelte-z68n1m"),k(T,"class","mode-selector-buttons svelte-z68n1m"),k(A,"class","create-new-button svelte-z68n1m"),k(Y,"class","button-image-right svelte-z68n1m"),r(Y.src,q="icons/import-icon.png")||k(Y,"src","icons/import-icon.png"),k(Y,"alt","import"),k(R,"class",W="import-shapes-button "+(e[8]?"clicked":"")+" svelte-z68n1m"),k(X,"class","dropdown svelte-z68n1m"),k(j,"class","shape-selector-buttons svelte-z68n1m"),k(L,"class","selector-buttons svelte-z68n1m"),k(f,"class","mode-selector svelte-z68n1m"),ie.value=e[3],k(ie,"placeholder","Search"),z(ie,"background-image","url('icons/search-icon.png')"),k(ie,"class","svelte-z68n1m"),k(se,"class","shape-selector-search svelte-z68n1m"),k(ae,"class","shape-selector-grid-inner svelte-z68n1m"),k(le,"class","shape-selector-grid svelte-z68n1m"),k(p,"class","inner-container svelte-z68n1m"),k(l,"class","shape-selector svelte-z68n1m"),k(s,"class","shape-selector-dialog svelte-z68n1m"),z(s,"display",e[7]?"block":"none",1)},m(i,r){b(i,t,r),pe&&pe.m(t,null),m(t,n),m(t,s),m(s,l),m(l,a),m(a,c),m(a,d),m(a,h),e[13](a),m(l,u),m(l,p),m(p,f),m(f,g),m(f,I),m(f,L),m(L,T),m(T,x),m(x,U),m(x,O),m(T,M),m(T,C),m(C,N),m(C,F),m(L,P),m(L,j),m(j,A),m(j,H),m(j,X),m(X,R),m(R,Y),m(R,G),m(X,Z),me&&me.m(X,null),m(p,ee),m(p,se),m(se,ie),m(p,oe),m(p,le),m(le,ae);for(let e=0;e<he.length;e+=1)he[e]&&he[e].m(ae,null);e[26](s),re=!0,ce||(de=[$(h,"click",e[12]),$(x,"click",e[14]),$(C,"click",e[15]),$(A,"click",(function(){o(e[0].createShape())&&e[0].createShape().apply(this,arguments)})),$(R,"click",(function(){o(e[0].importShapes())&&e[0].importShapes().apply(this,arguments)})),$(ie,"input",e[16])],ce=!0)},p(i,o){(e=i)[9]?pe?(pe.p(e,o),512&o[0]&&Q(pe,1)):(pe=ye(e),pe.c(),Q(pe,1),pe.m(t,n)):pe&&(J(),V(pe,1,1,(()=>{pe=null})),K()),(!re||16&o[0]&&_!==(_="turtle-button "+("turtle"===e[4]?"selected-button":"unselected-button")+" svelte-z68n1m"))&&k(x,"class",_),(!re||16&o[0]&&D!==(D="link-button "+("link"===e[4]?"selected-button":"unselected-button")+" svelte-z68n1m"))&&k(C,"class",D),(!re||256&o[0]&&W!==(W="import-shapes-button "+(e[8]?"clicked":"")+" svelte-z68n1m"))&&k(R,"class",W),e[8]?me?(me.p(e,o),256&o[0]&&Q(me,1)):(me=we(e),me.c(),Q(me,1),me.m(X,null)):me&&(J(),V(me,1,1,(()=>{me=null})),K()),(!re||8&o[0]&&ie.value!==e[3])&&(ie.value=e[3]),97&o[0]&&(fe=e[5],J(),he=ne(he,o,ge,1,e,fe,ue,ae,te,Se,null,ve),K()),(!re||128&o[0])&&z(s,"display",e[7]?"block":"none",1)},i(e){if(!re){Q(pe),Q(me);for(let e=0;e<fe.length;e+=1)Q(he[e]);re=!0}},o(e){V(pe),V(me);for(let e=0;e<he.length;e+=1)V(he[e]);re=!1},d(n){n&&v(t),pe&&pe.d(),e[13](null),me&&me.d();for(let e=0;e<he.length;e+=1)he[e].d();e[26](null),ce=!1,i(de)}}}function ke(e,t,n){let s,i,o,l,a,r,c,d=[],h=null,u=!0,p=!1,m=!1;const f=he([]),g=he([]),b=he(null),v=he(!0),y=he(!1),w=he(!1);_((()=>{const e={onUpdateShapes:e=>{f.set(e)},onUpdateFilteredShapes:e=>{g.set(e)},onUpdateSelectedItemId:e=>{b.set(e)},onUpdateDialogOpen:e=>{v.set(e)},onUpdateImportButtonSelected:e=>{y.set(e)},onUpdateLibraryOpen:e=>{w.set(e)}};n(0,o=new re(document.getElementById("Container"),e));let t=!1,l=[0,0];n(10,r=()=>{o.closeLibrary()}),n(11,c=e=>{o.addNewShape(e)}),i.addEventListener("mousedown",(e=>{t=!0,l=[s.offsetLeft-e.clientX,s.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(n(1,s.style.left=e.clientX+l[0]+"px",s),n(1,s.style.top=e.clientY+l[1]+"px",s))}),!0)})),f.subscribe((e=>{})),g.subscribe((e=>{n(5,d=e)})),b.subscribe((e=>{n(6,h=e)})),v.subscribe((e=>{n(7,u=e)})),y.subscribe((e=>{n(8,p=e)})),w.subscribe((e=>{n(9,m=e)}));return e.$$.update=()=>{1&e.$$.dirty[0]&&o&&(n(3,l=o.searchTerm),n(4,a=o.currentType),n(5,d=o.filteredShapes),o.shapes,n(6,h=o.selectedItemId),n(7,u=o.dialogOpen),n(8,p=o.importButtonSelected),n(9,m=o.libraryOpen))},[o,s,i,l,a,d,h,u,p,m,r,c,()=>o.toggleDialog(),function(e){C[e?"unshift":"push"]((()=>{i=e,n(2,i)}))},()=>{n(4,a="turtle"),o.filterShapes("turtle")},()=>{n(4,a="link"),o.filterShapes("link")},e=>o.handleSearch(e.target.value),(e,t)=>{t.stopPropagation(),o.duplicateShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),o.duplicateShape(e.id))},(e,t)=>{t.stopPropagation(),o.deleteShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),o.deleteShape(e.id))},(e,t,s)=>n(5,t[s].hover=!0,d),(e,t,s)=>n(5,t[s].hover=!1,d),(e,t,s)=>n(5,t[s].hover=!0,d),(e,t,s)=>n(5,t[s].hover=!1,d),e=>o.setSelectedItemId(e.id),function(e){C[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}return new class extends ae{constructor(e){super(),le(this,e,ke,$e,l,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
