var app=function(){"use strict";function e(){}function t(e){return e()}function s(){return Object.create(null)}function n(e){e.forEach(t)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,l;function o(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function c(e,t){e.appendChild(t)}function h(e,t,s){e.insertBefore(t,s||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function g(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function m(e,t,s){null==s?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function b(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t,s,n){null===s?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}function y(e){l=e}function w(e){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(e)}const S=[],$=[];let k=[];const I=[],q=Promise.resolve();let T=!1;function L(e){k.push(e)}const x=new Set;let U=0;function O(){if(0!==U)return;const e=l;do{try{for(;U<S.length;){const e=S[U];U++,y(e),E(e.$$)}}catch(e){throw S.length=0,U=0,e}for(y(null),S.length=0,U=0;$.length;)$.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];x.has(t)||(x.add(t),t())}k.length=0}while(S.length);for(;I.length;)I.pop()();T=!1,x.clear(),y(e)}function E(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const M=new Set;let _;function z(e,t){e&&e.i&&(M.delete(e),e.i(t))}function B(e,t,s,n){if(e&&e.o){if(M.has(e))return;M.add(e),_.c.push((()=>{M.delete(e),n&&(s&&e.d(1),n())})),e.o(t)}else n&&n()}function F(e,t){e.d(1),t.delete(e.key)}function C(e,t,s,a,i,r,l,o,c,h,d,p){let u=e.length,f=r.length,g=u;const m={};for(;g--;)m[e[g].key]=g;const b=[],v=new Map,y=new Map,w=[];for(g=f;g--;){const e=p(i,r,g),n=s(e);let o=l.get(n);o?a&&w.push((()=>o.p(e,t))):(o=h(n,e),o.c()),v.set(n,b[g]=o),n in m&&y.set(n,Math.abs(g-m[n]))}const S=new Set,$=new Set;function k(e){z(e,1),e.m(o,d),l.set(e.key,e),d=e.first,f--}for(;u&&f;){const t=b[f-1],s=e[u-1],n=t.key,a=s.key;t===s?(d=t.first,u--,f--):v.has(a)?!l.has(n)||S.has(n)?k(t):$.has(a)?u--:y.get(n)>y.get(a)?($.add(n),k(t)):(S.add(a),u--):(c(s,l),u--)}for(;u--;){const t=e[u];v.has(t.key)||c(t,l)}for(;f;)k(b[f-1]);return n(w),b}function D(e,s,i,r){const{fragment:l,after_update:o}=e.$$;l&&l.m(s,i),r||L((()=>{const s=e.$$.on_mount.map(t).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...s):n(s),e.$$.on_mount=[]})),o.forEach(L)}function j(e,t){const s=e.$$;null!==s.fragment&&(!function(e){const t=[],s=[];k.forEach((n=>-1===e.indexOf(n)?t.push(n):s.push(n))),s.forEach((e=>e())),k=t}(s.after_update),n(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function N(e,t){-1===e.$$.dirty[0]&&(S.push(e),T||(T=!0,q.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function P(t,a,i,r,o,c,h,p=[-1]){const u=l;y(t);const f=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(u?u.$$.context:[])),callbacks:s(),dirty:p,skip_bound:!1,root:a.target||u.$$.root};h&&h(f.root);let g=!1;if(f.ctx=i?i(t,a.props||{},((e,s,...n)=>{const a=n.length?n[0]:s;return f.ctx&&o(f.ctx[e],f.ctx[e]=a)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](a),g&&N(t,e)),s})):[],f.update(),g=!0,n(f.before_update),f.fragment=!!r&&r(f.ctx),a.target){if(a.hydrate){const e=function(e){return Array.from(e.childNodes)}(a.target);f.fragment&&f.fragment.l(e),e.forEach(d)}else f.fragment&&f.fragment.c();a.intro&&z(t.$$.fragment),D(t,a.target,a.anchor,a.customElement),O()}y(u)}class H{$destroy(){j(this,1),this.$destroy=e}$on(t,s){if(!a(s))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const e=n.indexOf(s);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class X{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:6,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0,this.importButtonSelected=!1,this.libraryOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,this.config.onUpdateDialogOpen(this.dialogOpen)}openLibrary(){this.libraryOpen=!0,this.importButtonSelected=!1,this.config.onUpdateLibraryOpen(this.libraryOpen),this.config.onUpdateImportButtonSelected(this.importButtonSelected)}closeLibrary(){console.log("close library"),this.libraryOpen=!1,this.config.onUpdateLibraryOpen(this.libraryOpen)}createShape(){const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}importShapes(){this.importButtonSelected=!this.importButtonSelected,this.config.onUpdateImportButtonSelected(this.importButtonSelected)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:s}=t,n=s.match(/^(.*?)(\s(\d+))?$/);if(n){const s=n[1],a=[];for(const e of this.shapes)if(0===e.name.indexOf(s)){const t=e.name.match(/^.*\s(\d+)$/);t&&a.push(Number(t[1]))}let i=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){i=t;break}let r=i;if(a.length>=1){let e=Math.max(...a);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${s} ${e}`){r=t;break}}const l=`${s} ${a.length?Math.max(...a)+1:1}`,o=Object.assign(Object.assign({},t),{name:l,hover:!1,deletable:!0}),c=Math.max(...this.shapes.map((e=>e.id)))+1;o.id=c,this.shapes.splice(r+1,0,o),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}deleteShape(e){let t=-1;for(let s=0;s<this.shapes.length;s++)if(this.shapes[s].id===e){t=s;break}-1!==t&&(this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}class A{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:6,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:7,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:8,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:9,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:10,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:11,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:12,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0}createShape(){const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:s}=t,n=s.match(/^(.*?)(\s(\d+))?$/);if(n){const s=n[1],a=[];for(const e of this.shapes)if(0===e.name.indexOf(s)){const t=e.name.match(/^.*\s(\d+)$/);t&&a.push(Number(t[1]))}let i=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){i=t;break}let r=i;if(a.length>=1){let e=Math.max(...a);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${s} ${e}`){r=t;break}}const l=`${s} ${a.length?Math.max(...a)+1:1}`,o=Object.assign(Object.assign({},t),{name:l,hover:!1,deletable:!0}),c=Math.max(...this.shapes.map((e=>e.id)))+1;o.id=c,this.shapes.splice(r+1,0,o),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}deleteShape(e){let t=-1;for(let s=0;s<this.shapes.length;s++)if(this.shapes[s].id===e){t=s;break}-1!==t&&(this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}const Y=[];function G(t,s=e){let n;const a=new Set;function r(e){if(i(t,e)&&(t=e,n)){const e=!Y.length;for(const e of a)e[1](),Y.push(e,t);if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(i,l=e){const o=[i,l];return a.add(o),1===a.size&&(n=s(r)||e),i(t),()=>{a.delete(o),0===a.size&&n&&(n(),n=null)}}}}function J(e,t,s){const n=e.slice();return n[21]=t[s],n[22]=t,n[23]=s,n}function K(e,t){let s,a,i,r,l,v,y,w,S,$,k,I,q,T=t[21].name+"";function L(){return t[9](t[21],t[22],t[23])}function x(){return t[10](t[21],t[22],t[23])}function U(){return t[11](t[21],t[22],t[23])}function O(){return t[12](t[21],t[22],t[23])}function E(){return t[13](t[21])}return{key:e,first:null,c(){s=p("button"),a=p("div"),i=p("div"),r=p("img"),v=f(),y=p("div"),w=u(T),$=f(),m(r,"class","shape-selector-item-image svelte-17hwzu9"),o(r.src,l=t[21].image)||m(r,"src",l),m(r,"alt",""),m(i,"class","shape-selector-item-image-div svelte-17hwzu9"),m(y,"class",S="shape-selector-item-name "+(t[21].id===t[6]?"font-selected":"")+" svelte-17hwzu9"),m(a,"class","shape-selector-details svelte-17hwzu9"),m(s,"class",k="shape-selector-item "+(t[21].id===t[6]?"selected":"")+" svelte-17hwzu9"),this.first=s},m(e,t){h(e,s,t),c(s,a),c(a,i),c(i,r),c(a,v),c(a,y),c(y,w),c(s,$),I||(q=[g(s,"mouseenter",L),g(s,"mouseleave",x),g(s,"focus",U),g(s,"blur",O),g(s,"click",E)],I=!0)},p(e,n){t=e,32&n&&!o(r.src,l=t[21].image)&&m(r,"src",l),32&n&&T!==(T=t[21].name+"")&&b(w,T),96&n&&S!==(S="shape-selector-item-name "+(t[21].id===t[6]?"font-selected":"")+" svelte-17hwzu9")&&m(y,"class",S),96&n&&k!==(k="shape-selector-item "+(t[21].id===t[6]?"selected":"")+" svelte-17hwzu9")&&m(s,"class",k)},d(e){e&&d(s),I=!1,n(q)}}}function Q(t){let s,i,r,l,o,u,b,y,w,S,$,k,I,q,T,L=[],x=new Map,U=t[5];const O=e=>e[21].id;for(let e=0;e<U.length;e+=1){let s=J(t,U,e),n=O(s);x.set(n,L[e]=K(n,s))}return{c(){s=p("div"),i=p("div"),r=p("div"),l=p("h2"),l.textContent="Library",o=f(),u=p("button"),u.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-17hwzu9"/>',b=f(),y=p("div"),w=p("div"),S=p("input"),$=f(),k=p("div"),I=p("div");for(let e=0;e<L.length;e+=1)L[e].c();m(l,"class","svelte-17hwzu9"),m(u,"class","close-button svelte-17hwzu9"),m(r,"class","shape-selector-header svelte-17hwzu9"),S.value=t[4],m(S,"placeholder","Search"),v(S,"background-image","url('icons/search-icon.png')"),m(S,"class","svelte-17hwzu9"),m(w,"class","shape-selector-search svelte-17hwzu9"),m(I,"class","shape-selector-grid-inner svelte-17hwzu9"),m(k,"class","shape-selector-grid svelte-17hwzu9"),m(y,"class","inner-container svelte-17hwzu9"),m(i,"class","shape-selector-library svelte-17hwzu9"),m(s,"class","shape-selector-library-dialog svelte-17hwzu9")},m(e,n){h(e,s,n),c(s,i),c(i,r),c(r,l),c(r,o),c(r,u),t[7](r),c(i,b),c(i,y),c(y,w),c(w,S),c(y,$),c(y,k),c(k,I);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(I,null);t[14](s),q||(T=[g(u,"click",(function(){a(t[0])&&t[0].apply(this,arguments)})),g(S,"input",t[8])],q=!0)},p(e,[s]){t=e,16&s&&S.value!==t[4]&&(S.value=t[4]),98&s&&(U=t[5],L=C(L,s,O,1,t,U,x,I,F,K,null,J))},i:e,o:e,d(e){e&&d(s),t[7](null);for(let e=0;e<L.length;e+=1)L[e].d();t[14](null),q=!1,n(T)}}}function R(e,t,s){let n,a,i,r,l=[],o=null,{closeLibrary:c}=t;const h=G([]),d=G([]),p=G(null),u=G(!1);w((()=>{const e={onUpdateShapes:e=>{h.set(e)},onUpdateFilteredShapes:e=>{d.set(e)},onUpdateSelectedItemId:e=>{p.set(e)},onUpdateImportButtonSelected:e=>{u.set(e)}};s(1,i=new A(document.getElementById("Container"),e));let t=!1,r=[0,0];a.addEventListener("mousedown",(e=>{t=!0,r=[n.offsetLeft-e.clientX,n.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(s(2,n.style.left=e.clientX+r[0]+"px",n),s(2,n.style.top=e.clientY+r[1]+"px",n))}),!0)})),h.subscribe((e=>{})),d.subscribe((e=>{s(5,l=e)})),p.subscribe((e=>{s(6,o=e)}));return e.$$set=e=>{"closeLibrary"in e&&s(0,c=e.closeLibrary)},e.$$.update=()=>{2&e.$$.dirty&&i&&(s(4,r=i.searchTerm),i.currentType,s(5,l=i.filteredShapes),i.shapes,s(6,o=i.selectedItemId))},[c,i,n,a,r,l,o,function(e){$[e?"unshift":"push"]((()=>{a=e,s(3,a)}))},e=>i.handleSearch(e.target.value),(e,t,n)=>s(5,t[n].hover=!0,l),(e,t,n)=>s(5,t[n].hover=!1,l),(e,t,n)=>s(5,t[n].hover=!0,l),(e,t,n)=>s(5,t[n].hover=!1,l),e=>i.setSelectedItemId(e.id),function(e){$[e?"unshift":"push"]((()=>{n=e,s(2,n)}))}]}class V extends H{constructor(e){super(),P(this,e,R,Q,i,{closeLibrary:0})}}function W(e,t,s){const n=e.slice();return n[33]=t[s],n[34]=t,n[35]=s,n}function Z(e){let t,s;return t=new V({props:{closeLibrary:e[10]}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,n){D(t,e,n),s=!0},p(e,s){const n={};1024&s[0]&&(n.closeLibrary=e[10]),t.$set(n)},i(e){s||(z(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){j(t,e)}}}function ee(e){let t,s,i,r,l,o;return{c(){t=p("div"),s=p("button"),s.innerHTML='<img class="button-image-left svelte-1r7nqga" src="icons/library-icon.png" alt="library"/>Library',i=f(),r=p("button"),r.innerHTML='<img class="button-image-left svelte-1r7nqga" src="icons/model-icon.png" alt="model"/>Model',m(s,"class","dropdown-button library-button svelte-1r7nqga"),m(r,"class","dropdown-button model-button svelte-1r7nqga"),m(t,"class","dropdown-content svelte-1r7nqga")},m(n,d){h(n,t,d),c(t,s),c(t,i),c(t,r),l||(o=[g(s,"click",(function(){a(e[0].openLibrary())&&e[0].openLibrary().apply(this,arguments)})),g(r,"click",console.log("model"))],l=!0)},p(t,s){e=t},d(e){e&&d(t),l=!1,n(o)}}}function te(e,t){let s,a,i,r,l,y,w,S,$,k,I,q,T,L,x,U,O,E,M,_,z=t[33].name+"";function B(...e){return t[16](t[33],...e)}function F(...e){return t[17](t[33],...e)}function C(...e){return t[18](t[33],...e)}function D(...e){return t[19](t[33],...e)}function j(){return t[20](t[33],t[34],t[35])}function N(){return t[21](t[33],t[34],t[35])}function P(){return t[22](t[33],t[34],t[35])}function H(){return t[23](t[33],t[34],t[35])}function X(){return t[24](t[33])}return{key:e,first:null,c(){s=p("button"),a=p("div"),i=p("button"),r=f(),l=p("button"),S=f(),$=p("div"),k=p("div"),I=p("img"),T=f(),L=p("div"),x=u(z),O=f(),m(i,"aria-label","Duplicate shape"),m(i,"class","duplicate-icon svelte-1r7nqga"),v(i,"display",t[33].hover?"block":"none"),v(i,"background-image","url('icons/duplicate-icon.png')"),m(l,"aria-label","Delete shape"),m(l,"class",y="delete-icon "+(t[33].deletable?"":"button-disabled")+" svelte-1r7nqga"),v(l,"display",t[33].hover?"block":"none"),v(l,"background-image","url('icons/delete-icon.png')"),l.disabled=w=!t[33].deletable,m(a,"class","shape-selector-item-buttons svelte-1r7nqga"),m(I,"class","shape-selector-item-image svelte-1r7nqga"),o(I.src,q=t[33].image)||m(I,"src",q),m(I,"alt",""),m(k,"class","shape-selector-item-image-div svelte-1r7nqga"),m(L,"class",U="shape-selector-item-name "+(t[33].id===t[6]?"font-selected":"")+" svelte-1r7nqga"),m($,"class","shape-selector-details svelte-1r7nqga"),m(s,"class",E="shape-selector-item "+(t[33].id===t[6]?"selected":"")+" svelte-1r7nqga"),this.first=s},m(e,t){h(e,s,t),c(s,a),c(a,i),c(a,r),c(a,l),c(s,S),c(s,$),c($,k),c(k,I),c($,T),c($,L),c(L,x),c(s,O),M||(_=[g(i,"click",B),g(i,"keydown",F),g(l,"click",C),g(l,"keydown",D),g(s,"mouseenter",j),g(s,"mouseleave",N),g(s,"focus",P),g(s,"blur",H),g(s,"click",X)],M=!0)},p(e,n){t=e,32&n[0]&&v(i,"display",t[33].hover?"block":"none"),32&n[0]&&y!==(y="delete-icon "+(t[33].deletable?"":"button-disabled")+" svelte-1r7nqga")&&m(l,"class",y),32&n[0]&&v(l,"display",t[33].hover?"block":"none"),32&n[0]&&w!==(w=!t[33].deletable)&&(l.disabled=w),32&n[0]&&!o(I.src,q=t[33].image)&&m(I,"src",q),32&n[0]&&z!==(z=t[33].name+"")&&b(x,z),96&n[0]&&U!==(U="shape-selector-item-name "+(t[33].id===t[6]?"font-selected":"")+" svelte-1r7nqga")&&m(L,"class",U),96&n[0]&&E!==(E="shape-selector-item "+(t[33].id===t[6]?"selected":"")+" svelte-1r7nqga")&&m(s,"class",E)},d(e){e&&d(s),M=!1,n(_)}}}function se(e){let t,s,i,r,l,b,y,w,S,$,k,I,q,T,L,x,U,O,E,M,D,j,N,P,H,X,A,Y,G,J,K,Q,R,V,se,ne,ae,ie,re,le,oe,ce,he,de,pe,ue,fe=[],ge=new Map,me=e[9]&&Z(e),be=e[8]&&ee(e),ve=e[5];const ye=e=>e[33].id;for(let t=0;t<ve.length;t+=1){let s=W(e,ve,t),n=ye(s);ge.set(n,fe[t]=te(n,s))}return{c(){t=p("div"),me&&me.c(),s=f(),i=p("div"),r=p("div"),l=p("div"),b=p("div"),b.innerHTML='<img src="icons/header-logo.png" alt="header logo" class="svelte-1r7nqga"/> \n        <h2 class="svelte-1r7nqga">Shape Editor</h2>',y=f(),w=p("button"),w.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-1r7nqga"/>',S=f(),$=p("div"),k=p("div"),I=p("h3"),I.textContent="Selection Mode",q=f(),T=p("div"),L=p("div"),x=p("button"),U=p("img"),E=u("Turtle"),D=f(),j=p("button"),N=p("img"),H=u("Link"),A=f(),Y=p("div"),G=p("button"),G.innerHTML='<img class="button-image-right svelte-1r7nqga" src="icons/create-new-icon.png" alt="create new"/>Create New',J=f(),K=p("div"),Q=p("button"),R=p("img"),se=u("Import From..."),ae=f(),be&&be.c(),ie=f(),re=p("div"),le=p("input"),oe=f(),ce=p("div"),he=p("div");for(let e=0;e<fe.length;e+=1)fe[e].c();m(b,"class","shape-selector-header-logo svelte-1r7nqga"),m(w,"class","close-button svelte-1r7nqga"),m(l,"class","shape-selector-header svelte-1r7nqga"),m(I,"class","svelte-1r7nqga"),m(U,"class","button-image-left svelte-1r7nqga"),o(U.src,O="icons/turtle-icon.png")||m(U,"src","icons/turtle-icon.png"),m(U,"alt","turtle button"),m(x,"class",M="turtle-button "+("turtle"===e[4]?"selected-button":"unselected-button")+" svelte-1r7nqga"),m(N,"class","button-image-left svelte-1r7nqga"),o(N.src,P="icons/link-icon.png")||m(N,"src","icons/link-icon.png"),m(N,"alt","link button"),m(j,"class",X="link-button "+("link"===e[4]?"selected-button":"unselected-button")+" svelte-1r7nqga"),m(L,"class","mode-selector-buttons svelte-1r7nqga"),m(G,"class","create-new-button svelte-1r7nqga"),m(R,"class","button-image-right svelte-1r7nqga"),o(R.src,V="icons/import-icon.png")||m(R,"src","icons/import-icon.png"),m(R,"alt","import"),m(Q,"class",ne="import-shapes-button "+(e[8]?"clicked":"")+" svelte-1r7nqga"),m(K,"class","dropdown svelte-1r7nqga"),m(Y,"class","shape-selector-buttons svelte-1r7nqga"),m(T,"class","selector-buttons svelte-1r7nqga"),m(k,"class","mode-selector svelte-1r7nqga"),le.value=e[3],m(le,"placeholder","Search"),v(le,"background-image","url('icons/search-icon.png')"),m(le,"class","svelte-1r7nqga"),m(re,"class","shape-selector-search svelte-1r7nqga"),m(he,"class","shape-selector-grid-inner svelte-1r7nqga"),m(ce,"class","shape-selector-grid svelte-1r7nqga"),m($,"class","inner-container svelte-1r7nqga"),m(r,"class","shape-selector svelte-1r7nqga"),m(i,"class","shape-selector-dialog svelte-1r7nqga"),v(i,"display",e[7]?"block":"none",1)},m(n,o){h(n,t,o),me&&me.m(t,null),c(t,s),c(t,i),c(i,r),c(r,l),c(l,b),c(l,y),c(l,w),e[12](l),c(r,S),c(r,$),c($,k),c(k,I),c(k,q),c(k,T),c(T,L),c(L,x),c(x,U),c(x,E),c(L,D),c(L,j),c(j,N),c(j,H),c(T,A),c(T,Y),c(Y,G),c(Y,J),c(Y,K),c(K,Q),c(Q,R),c(Q,se),c(K,ae),be&&be.m(K,null),c($,ie),c($,re),c(re,le),c($,oe),c($,ce),c(ce,he);for(let e=0;e<fe.length;e+=1)fe[e]&&fe[e].m(he,null);e[25](i),de=!0,pe||(ue=[g(w,"click",e[11]),g(x,"click",e[13]),g(j,"click",e[14]),g(G,"click",(function(){a(e[0].createShape())&&e[0].createShape().apply(this,arguments)})),g(Q,"click",(function(){a(e[0].importShapes())&&e[0].importShapes().apply(this,arguments)})),g(le,"input",e[15])],pe=!0)},p(a,r){(e=a)[9]?me?(me.p(e,r),512&r[0]&&z(me,1)):(me=Z(e),me.c(),z(me,1),me.m(t,s)):me&&(_={r:0,c:[],p:_},B(me,1,1,(()=>{me=null})),_.r||n(_.c),_=_.p),(!de||16&r[0]&&M!==(M="turtle-button "+("turtle"===e[4]?"selected-button":"unselected-button")+" svelte-1r7nqga"))&&m(x,"class",M),(!de||16&r[0]&&X!==(X="link-button "+("link"===e[4]?"selected-button":"unselected-button")+" svelte-1r7nqga"))&&m(j,"class",X),(!de||256&r[0]&&ne!==(ne="import-shapes-button "+(e[8]?"clicked":"")+" svelte-1r7nqga"))&&m(Q,"class",ne),e[8]?be?be.p(e,r):(be=ee(e),be.c(),be.m(K,null)):be&&(be.d(1),be=null),(!de||8&r[0]&&le.value!==e[3])&&(le.value=e[3]),97&r[0]&&(ve=e[5],fe=C(fe,r,ye,1,e,ve,ge,he,F,te,null,W)),(!de||128&r[0])&&v(i,"display",e[7]?"block":"none",1)},i(e){de||(z(me),de=!0)},o(e){B(me),de=!1},d(s){s&&d(t),me&&me.d(),e[12](null),be&&be.d();for(let e=0;e<fe.length;e+=1)fe[e].d();e[25](null),pe=!1,n(ue)}}}function ne(e,t,s){let n,a,i,r,l,o,c=[],h=null,d=!0,p=!1,u=!1;const f=G([]),g=G([]),m=G(null),b=G(!0),v=G(!1),y=G(!1);w((()=>{const e={onUpdateShapes:e=>{f.set(e)},onUpdateFilteredShapes:e=>{g.set(e)},onUpdateSelectedItemId:e=>{m.set(e)},onUpdateDialogOpen:e=>{b.set(e)},onUpdateImportButtonSelected:e=>{v.set(e)},onUpdateLibraryOpen:e=>{y.set(e)}};s(0,i=new X(document.getElementById("Container"),e));let t=!1,r=[0,0];s(10,o=()=>{i.closeLibrary()}),a.addEventListener("mousedown",(e=>{t=!0,r=[n.offsetLeft-e.clientX,n.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(()=>{t=!1}),!0),document.addEventListener("mousemove",(e=>{e.preventDefault(),t&&(s(1,n.style.left=e.clientX+r[0]+"px",n),s(1,n.style.top=e.clientY+r[1]+"px",n))}),!0)})),f.subscribe((e=>{})),g.subscribe((e=>{s(5,c=e)})),m.subscribe((e=>{s(6,h=e)})),b.subscribe((e=>{s(7,d=e)})),v.subscribe((e=>{s(8,p=e)})),y.subscribe((e=>{s(9,u=e)}));return e.$$.update=()=>{1&e.$$.dirty[0]&&i&&(s(3,r=i.searchTerm),s(4,l=i.currentType),s(5,c=i.filteredShapes),i.shapes,s(6,h=i.selectedItemId),s(7,d=i.dialogOpen),s(8,p=i.importButtonSelected),s(9,u=i.libraryOpen))},[i,n,a,r,l,c,h,d,p,u,o,()=>i.toggleDialog(),function(e){$[e?"unshift":"push"]((()=>{a=e,s(2,a)}))},()=>{s(4,l="turtle"),i.filterShapes("turtle")},()=>{s(4,l="link"),i.filterShapes("link")},e=>i.handleSearch(e.target.value),(e,t)=>{t.stopPropagation(),i.duplicateShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),i.duplicateShape(e.id))},(e,t)=>{t.stopPropagation(),i.deleteShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),i.deleteShape(e.id))},(e,t,n)=>s(5,t[n].hover=!0,c),(e,t,n)=>s(5,t[n].hover=!1,c),(e,t,n)=>s(5,t[n].hover=!0,c),(e,t,n)=>s(5,t[n].hover=!1,c),e=>i.setSelectedItemId(e.id),function(e){$[e?"unshift":"push"]((()=>{n=e,s(1,n)}))}]}return new class extends H{constructor(e){super(),P(this,e,ne,se,i,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
