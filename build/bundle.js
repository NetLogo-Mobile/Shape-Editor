var app=function(){"use strict";function e(){}function t(e){return e()}function s(){return Object.create(null)}function n(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,l;function r(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function h(e,t){e.appendChild(t)}function c(e,t,s){e.insertBefore(t,s||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function v(){return u(" ")}function f(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function b(e,t,s){null==s?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function g(e,t){t=""+t,e.data!==t&&(e.data=t)}function m(e,t,s,n){null===s?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}function y(e){l=e}function S(e){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(e)}const k=[],w=[];let $=[];const I=[],T=Promise.resolve();let O=!1;function U(e){$.push(e)}const x=new Set;let M=0;function _(){if(0!==M)return;const e=l;do{try{for(;M<k.length;){const e=k[M];M++,y(e),L(e.$$)}}catch(e){throw k.length=0,M=0,e}for(y(null),k.length=0,M=0;w.length;)w.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];x.has(t)||(x.add(t),t())}$.length=0}while(k.length);for(;I.length;)I.pop()();O=!1,x.clear(),y(e)}function L(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}const E=new Set;let F;function D(e,t){e&&e.i&&(E.delete(e),e.i(t))}function B(e,t,s,n){if(e&&e.o){if(E.has(e))return;E.add(e),F.c.push((()=>{E.delete(e),n&&(s&&e.d(1),n())})),e.o(t)}else n&&n()}function C(e,t){e.d(1),t.delete(e.key)}function P(e,t,s,i,o,a,l,r,h,c,d,p){let u=e.length,v=a.length,f=u;const b={};for(;f--;)b[e[f].key]=f;const g=[],m=new Map,y=new Map,S=[];for(f=v;f--;){const e=p(o,a,f),n=s(e);let r=l.get(n);r?i&&S.push((()=>r.p(e,t))):(r=c(n,e),r.c()),m.set(n,g[f]=r),n in b&&y.set(n,Math.abs(f-b[n]))}const k=new Set,w=new Set;function $(e){D(e,1),e.m(r,d),l.set(e.key,e),d=e.first,v--}for(;u&&v;){const t=g[v-1],s=e[u-1],n=t.key,i=s.key;t===s?(d=t.first,u--,v--):m.has(i)?!l.has(n)||k.has(n)?$(t):w.has(i)?u--:y.get(n)>y.get(i)?(w.add(n),$(t)):(k.add(i),u--):(h(s,l),u--)}for(;u--;){const t=e[u];m.has(t.key)||h(t,l)}for(;v;)$(g[v-1]);return n(S),g}function j(e,s,o,a){const{fragment:l,after_update:r}=e.$$;l&&l.m(s,o),a||U((()=>{const s=e.$$.on_mount.map(t).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...s):n(s),e.$$.on_mount=[]})),r.forEach(U)}function N(e,t){const s=e.$$;null!==s.fragment&&(!function(e){const t=[],s=[];$.forEach((n=>-1===e.indexOf(n)?t.push(n):s.push(n))),s.forEach((e=>e())),$=t}(s.after_update),n(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(k.push(e),O||(O=!0,T.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function A(t,i,o,a,r,h,c,p=[-1]){const u=l;y(t);const v=t.$$={fragment:null,ctx:[],props:h,update:e,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(u?u.$$.context:[])),callbacks:s(),dirty:p,skip_bound:!1,root:i.target||u.$$.root};c&&c(v.root);let f=!1;if(v.ctx=o?o(t,i.props||{},((e,s,...n)=>{const i=n.length?n[0]:s;return v.ctx&&r(v.ctx[e],v.ctx[e]=i)&&(!v.skip_bound&&v.bound[e]&&v.bound[e](i),f&&H(t,e)),s})):[],v.update(),f=!0,n(v.before_update),v.fragment=!!a&&a(v.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);v.fragment&&v.fragment.l(e),e.forEach(d)}else v.fragment&&v.fragment.c();i.intro&&D(t.$$.fragment),j(t,i.target,i.anchor,i.customElement),_()}y(u)}class z{$destroy(){N(this,1),this.$destroy=e}$on(t,s){if(!i(s))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const e=n.indexOf(s);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class X{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:6,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0,this.importButtonSelected=!1,this.libraryOpen=!1}toggleDialog(){this.dialogOpen=!this.dialogOpen,this.config.onUpdateDialogOpen(this.dialogOpen)}toggleLibrary(){this.libraryOpen=!this.libraryOpen,this.config.onUpdateLibraryOpen(this.libraryOpen)}createShape(){const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}importShapes(){this.importButtonSelected=!this.importButtonSelected,this.config.onUpdateImportButtonSelected(this.importButtonSelected)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:s}=t,n=s.match(/^(.*?)(\s(\d+))?$/);if(n){const s=n[1],i=[];for(const e of this.shapes)if(0===e.name.indexOf(s)){const t=e.name.match(/^.*\s(\d+)$/);t&&i.push(Number(t[1]))}let o=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){o=t;break}let a=o;if(i.length>=1){let e=Math.max(...i);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${s} ${e}`){a=t;break}}const l=`${s} ${i.length?Math.max(...i)+1:1}`,r=Object.assign(Object.assign({},t),{name:l,hover:!1,deletable:!0}),h=Math.max(...this.shapes.map((e=>e.id)))+1;r.id=h,this.shapes.splice(a+1,0,r),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}deleteShape(e){let t=-1;for(let s=0;s<this.shapes.length;s++)if(this.shapes[s].id===e){t=s;break}-1!==t&&(this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}class q{constructor(e,t){this.shapes=[],this.filteredShapes=[],this.selectedItemId=null,this.parent=e,this.shapes=[{id:1,name:"default",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!1},{id:2,name:"apple",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:3,name:"banana",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:4,name:"peach",image:"shapes/down-arrow.png",type:"turtle",hover:!1,deletable:!0},{id:5,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0},{id:6,name:"down-arrow",image:"shapes/down-arrow.png",type:"link",hover:!1,deletable:!0}],this.searchTerm="",this.filteredShapes=this.shapes,this.currentType="turtle",this.config=t,this.filterShapes(this.currentType),this.dialogOpen=!0}toggleDialog(){this.dialogOpen=!this.dialogOpen,this.config.onUpdateDialogOpen(this.dialogOpen)}createShape(){const e={id:Math.max(...this.shapes.map((e=>e.id)))+1,name:"new default",image:"shapes/down-arrow.png",type:this.currentType,hover:!1,deletable:!0};this.shapes.unshift(e),this.shapes=[...this.shapes],this.config.onUpdateShapes(this.shapes),this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}duplicateShape(e){const t=this.shapes.find((t=>t.id===e));if(t){const{name:s}=t,n=s.match(/^(.*?)(\s(\d+))?$/);if(n){const s=n[1],i=[];for(const e of this.shapes)if(0===e.name.indexOf(s)){const t=e.name.match(/^.*\s(\d+)$/);t&&i.push(Number(t[1]))}let o=-1;for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].id===e){o=t;break}let a=o;if(i.length>=1){let e=Math.max(...i);for(let t=0;t<this.shapes.length;t++)if(this.shapes[t].name===`${s} ${e}`){a=t;break}}const l=`${s} ${i.length?Math.max(...i)+1:1}`,r=Object.assign(Object.assign({},t),{name:l,hover:!1,deletable:!0}),h=Math.max(...this.shapes.map((e=>e.id)))+1;r.id=h,this.shapes.splice(a+1,0,r),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes)}}}deleteShape(e){let t=-1;for(let s=0;s<this.shapes.length;s++)if(this.shapes[s].id===e){t=s;break}-1!==t&&(this.shapes.splice(t,1),this.shapes=[...this.shapes],this.handleSearch(this.searchTerm),this.config.onUpdateShapes(this.shapes),this.config.onUpdateFilteredShapes(this.filteredShapes))}filterShapes(e){this.currentType=e,this.filteredShapes=[];for(let e=0;e<this.shapes.length;e++){const t=this.shapes[e];t.type===this.currentType&&-1!==t.name.toLowerCase().indexOf(this.searchTerm.toLowerCase())&&this.filteredShapes.push(t)}this.config.onUpdateFilteredShapes(this.filteredShapes)}handleSearch(e){this.searchTerm=e,this.filterShapes(this.currentType),this.config.onUpdateFilteredShapes(this.filteredShapes)}setSelectedItemId(e){this.selectedItemId===e?this.selectedItemId=null:this.selectedItemId=e,console.log(this.shapes.find((e=>e.id===this.selectedItemId))),this.config.onUpdateSelectedItemId(this.selectedItemId)}}const G=[];function J(t,s=e){let n;const i=new Set;function a(e){if(o(t,e)&&(t=e,n)){const e=!G.length;for(const e of i)e[1](),G.push(e,t);if(e){for(let e=0;e<G.length;e+=2)G[e][0](G[e+1]);G.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(o,l=e){const r=[o,l];return i.add(r),1===i.size&&(n=s(a)||e),o(t),()=>{i.delete(r),0===i.size&&n&&(n(),n=null)}}}}function K(e,t,s){const n=e.slice();return n[24]=t[s],n[25]=t,n[26]=s,n}function Q(e,t){let s,i,o,a,l,y,S,k,w,$,I,T,O,U,x,M,_,L,E,F,D=t[24].name+"";function B(...e){return t[7](t[24],...e)}function C(...e){return t[8](t[24],...e)}function P(...e){return t[9](t[24],...e)}function j(...e){return t[10](t[24],...e)}function N(){return t[11](t[24],t[25],t[26])}function H(){return t[12](t[24],t[25],t[26])}function A(){return t[13](t[24],t[25],t[26])}function z(){return t[14](t[24],t[25],t[26])}function X(){return t[15](t[24])}return{key:e,first:null,c(){s=p("button"),i=p("div"),o=p("button"),a=v(),l=p("button"),k=v(),w=p("div"),$=p("div"),I=p("img"),O=v(),U=p("div"),x=u(D),_=v(),b(o,"aria-label","Duplicate shape"),b(o,"class","duplicate-icon svelte-1655v8h"),m(o,"display",t[24].hover?"block":"none"),m(o,"background-image","url('icons/duplicate-icon.png')"),b(l,"aria-label","Delete shape"),b(l,"class",y="delete-icon "+(t[24].deletable?"":"button-disabled")+" svelte-1655v8h"),m(l,"display",t[24].hover?"block":"none"),m(l,"background-image","url('icons/delete-icon.png')"),l.disabled=S=!t[24].deletable,b(i,"class","shape-selector-item-buttons svelte-1655v8h"),b(I,"class","shape-selector-item-image svelte-1655v8h"),r(I.src,T=t[24].image)||b(I,"src",T),b(I,"alt",""),b($,"class","shape-selector-item-image-div svelte-1655v8h"),b(U,"class",M="shape-selector-item-name "+(t[24].id===t[3]?"font-selected":"")+" svelte-1655v8h"),b(w,"class","shape-selector-details svelte-1655v8h"),b(s,"class",L="shape-selector-item "+(t[24].id===t[3]?"selected":"")+" svelte-1655v8h"),this.first=s},m(e,t){c(e,s,t),h(s,i),h(i,o),h(i,a),h(i,l),h(s,k),h(s,w),h(w,$),h($,I),h(w,O),h(w,U),h(U,x),h(s,_),E||(F=[f(o,"click",B),f(o,"keydown",C),f(l,"click",P),f(l,"keydown",j),f(s,"mouseenter",N),f(s,"mouseleave",H),f(s,"focus",A),f(s,"blur",z),f(s,"click",X)],E=!0)},p(e,n){t=e,4&n&&m(o,"display",t[24].hover?"block":"none"),4&n&&y!==(y="delete-icon "+(t[24].deletable?"":"button-disabled")+" svelte-1655v8h")&&b(l,"class",y),4&n&&m(l,"display",t[24].hover?"block":"none"),4&n&&S!==(S=!t[24].deletable)&&(l.disabled=S),4&n&&!r(I.src,T=t[24].image)&&b(I,"src",T),4&n&&D!==(D=t[24].name+"")&&g(x,D),12&n&&M!==(M="shape-selector-item-name "+(t[24].id===t[3]?"font-selected":"")+" svelte-1655v8h")&&b(U,"class",M),12&n&&L!==(L="shape-selector-item "+(t[24].id===t[3]?"selected":"")+" svelte-1655v8h")&&b(s,"class",L)},d(e){e&&d(s),E=!1,n(F)}}}function R(t){let s,i,o,a,l,r,u,g,y,S,k,w,$,I,T,O=[],U=new Map,x=t[2];const M=e=>e[24].id;for(let e=0;e<x.length;e+=1){let s=K(t,x,e),n=M(s);U.set(n,O[e]=Q(n,s))}return{c(){s=p("div"),i=p("div"),o=p("div"),a=p("h2"),a.textContent="Library",l=v(),r=p("button"),r.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-1655v8h"/>',u=v(),g=p("div"),y=p("div"),S=p("input"),k=v(),w=p("div"),$=p("div");for(let e=0;e<O.length;e+=1)O[e].c();b(a,"class","svelte-1655v8h"),b(r,"class","close-button svelte-1655v8h"),b(o,"class","shape-selector-header svelte-1655v8h"),S.value=t[1],b(S,"placeholder","Search"),m(S,"background-image","url('icons/search-icon.png')"),b(S,"class","svelte-1655v8h"),b(y,"class","shape-selector-search svelte-1655v8h"),b($,"class","shape-selector-grid-inner svelte-1655v8h"),b(w,"class","shape-selector-grid svelte-1655v8h"),b(g,"class","inner-container svelte-1655v8h"),b(i,"class","shape-selector-library svelte-1655v8h"),b(s,"class","shape-selector-library-dialog svelte-1655v8h"),m(s,"display",t[4]?"block":"none")},m(e,n){c(e,s,n),h(s,i),h(i,o),h(o,a),h(o,l),h(o,r),h(i,u),h(i,g),h(g,y),h(y,S),h(g,k),h(g,w),h(w,$);for(let e=0;e<O.length;e+=1)O[e]&&O[e].m($,null);I||(T=[f(r,"click",t[5]),f(S,"input",t[6])],I=!0)},p(e,[t]){2&t&&S.value!==e[1]&&(S.value=e[1]),13&t&&(x=e[2],O=P(O,t,M,1,e,x,U,$,C,Q,null,K)),16&t&&m(s,"display",e[4]?"block":"none")},i:e,o:e,d(e){e&&d(s);for(let e=0;e<O.length;e+=1)O[e].d();I=!1,n(T)}}}function V(e,t,s){let n,i,o=[],a=null,l=!0;const r=J([]),h=J([]),c=J(null),d=J(!0),p=J(!1),u=J(!1);S((()=>{const e={onUpdateShapes:e=>{r.set(e)},onUpdateFilteredShapes:e=>{h.set(e)},onUpdateSelectedItemId:e=>{c.set(e)},onUpdateDialogOpen:e=>{d.set(e)},onUpdateImportButtonSelected:e=>{p.set(e)},onUpdateLibraryOpen:e=>{u.set(e)}};s(0,n=new q(document.getElementById("Container"),e))})),r.subscribe((e=>{})),h.subscribe((e=>{s(2,o=e)})),c.subscribe((e=>{s(3,a=e)})),d.subscribe((e=>{s(4,l=e)}));return e.$$.update=()=>{1&e.$$.dirty&&n&&(s(1,i=n.searchTerm),n.currentType,s(2,o=n.filteredShapes),n.shapes,s(3,a=n.selectedItemId),s(4,l=n.dialogOpen))},[n,i,o,a,l,()=>n.toggleDialog(),e=>n.handleSearch(e.target.value),(e,t)=>{t.stopPropagation(),n.duplicateShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),n.duplicateShape(e.id))},(e,t)=>{t.stopPropagation(),n.deleteShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),n.deleteShape(e.id))},(e,t,n)=>s(2,t[n].hover=!0,o),(e,t,n)=>s(2,t[n].hover=!1,o),(e,t,n)=>s(2,t[n].hover=!0,o),(e,t,n)=>s(2,t[n].hover=!1,o),e=>n.setSelectedItemId(e.id)]}class W extends z{constructor(e){super(),A(this,e,V,R,o,{})}}function Y(e,t,s){const n=e.slice();return n[28]=t[s],n[29]=t,n[30]=s,n}function Z(e){let t,s;return t=new W({}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,n){j(t,e,n),s=!0},i(e){s||(D(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){N(t,e)}}}function ee(e){let t,s,o,a,l,r;return{c(){t=p("div"),s=p("button"),s.innerHTML='<img class="button-image-left svelte-1odvbhv" src="icons/library-icon.png" alt="library"/>Library',o=v(),a=p("button"),a.innerHTML='<img class="button-image-left svelte-1odvbhv" src="icons/model-icon.png" alt="model"/>Model',b(s,"class","dropdown-button library-button svelte-1odvbhv"),b(a,"class","dropdown-button model-button svelte-1odvbhv"),b(t,"class","dropdown-content svelte-1odvbhv")},m(n,d){c(n,t,d),h(t,s),h(t,o),h(t,a),l||(r=[f(s,"click",(function(){i(e[0].toggleLibrary())&&e[0].toggleLibrary().apply(this,arguments)})),f(a,"click",console.log("model"))],l=!0)},p(t,s){e=t},d(e){e&&d(t),l=!1,n(r)}}}function te(e,t){let s,i,o,a,l,y,S,k,w,$,I,T,O,U,x,M,_,L,E,F,D=t[28].name+"";function B(...e){return t[12](t[28],...e)}function C(...e){return t[13](t[28],...e)}function P(...e){return t[14](t[28],...e)}function j(...e){return t[15](t[28],...e)}function N(){return t[16](t[28],t[29],t[30])}function H(){return t[17](t[28],t[29],t[30])}function A(){return t[18](t[28],t[29],t[30])}function z(){return t[19](t[28],t[29],t[30])}function X(){return t[20](t[28])}return{key:e,first:null,c(){s=p("button"),i=p("div"),o=p("button"),a=v(),l=p("button"),k=v(),w=p("div"),$=p("div"),I=p("img"),O=v(),U=p("div"),x=u(D),_=v(),b(o,"aria-label","Duplicate shape"),b(o,"class","duplicate-icon svelte-1odvbhv"),m(o,"display",t[28].hover?"block":"none"),m(o,"background-image","url('icons/duplicate-icon.png')"),b(l,"aria-label","Delete shape"),b(l,"class",y="delete-icon "+(t[28].deletable?"":"button-disabled")+" svelte-1odvbhv"),m(l,"display",t[28].hover?"block":"none"),m(l,"background-image","url('icons/delete-icon.png')"),l.disabled=S=!t[28].deletable,b(i,"class","shape-selector-item-buttons svelte-1odvbhv"),b(I,"class","shape-selector-item-image svelte-1odvbhv"),r(I.src,T=t[28].image)||b(I,"src",T),b(I,"alt",""),b($,"class","shape-selector-item-image-div svelte-1odvbhv"),b(U,"class",M="shape-selector-item-name "+(t[28].id===t[4]?"font-selected":"")+" svelte-1odvbhv"),b(w,"class","shape-selector-details svelte-1odvbhv"),b(s,"class",L="shape-selector-item "+(t[28].id===t[4]?"selected":"")+" svelte-1odvbhv"),this.first=s},m(e,t){c(e,s,t),h(s,i),h(i,o),h(i,a),h(i,l),h(s,k),h(s,w),h(w,$),h($,I),h(w,O),h(w,U),h(U,x),h(s,_),E||(F=[f(o,"click",B),f(o,"keydown",C),f(l,"click",P),f(l,"keydown",j),f(s,"mouseenter",N),f(s,"mouseleave",H),f(s,"focus",A),f(s,"blur",z),f(s,"click",X)],E=!0)},p(e,n){t=e,8&n&&m(o,"display",t[28].hover?"block":"none"),8&n&&y!==(y="delete-icon "+(t[28].deletable?"":"button-disabled")+" svelte-1odvbhv")&&b(l,"class",y),8&n&&m(l,"display",t[28].hover?"block":"none"),8&n&&S!==(S=!t[28].deletable)&&(l.disabled=S),8&n&&!r(I.src,T=t[28].image)&&b(I,"src",T),8&n&&D!==(D=t[28].name+"")&&g(x,D),24&n&&M!==(M="shape-selector-item-name "+(t[28].id===t[4]?"font-selected":"")+" svelte-1odvbhv")&&b(U,"class",M),24&n&&L!==(L="shape-selector-item "+(t[28].id===t[4]?"selected":"")+" svelte-1odvbhv")&&b(s,"class",L)},d(e){e&&d(s),E=!1,n(F)}}}function se(e){let t,s,o,a,l,g,y,S,k,w,$,I,T,O,U,x,M,_,L,E,j,N,H,A,z,X,q,G,J,K,Q,R,V,W,se,ne,ie,oe,ae,le,re,he,ce,de,pe,ue=[],ve=new Map,fe=e[7]&&Z(),be=e[6]&&ee(e),ge=e[3];const me=e=>e[28].id;for(let t=0;t<ge.length;t+=1){let s=Y(e,ge,t),n=me(s);ve.set(n,ue[t]=te(n,s))}return{c(){t=p("div"),fe&&fe.c(),s=v(),o=p("div"),a=p("div"),l=p("div"),l.innerHTML='<img src="icons/header-logo.png" alt="header logo" class="svelte-1odvbhv"/> \n        <h2 class="svelte-1odvbhv">Shape Editor</h2>',g=v(),y=p("button"),y.innerHTML='<img src="icons/close-button.png" alt="X" class="svelte-1odvbhv"/>',S=v(),k=p("div"),w=p("div"),$=p("h3"),$.textContent="Selection Mode",I=v(),T=p("div"),O=p("div"),U=p("button"),x=p("img"),_=u("Turtle"),E=v(),j=p("button"),N=p("img"),A=u("Link"),X=v(),q=p("div"),G=p("button"),G.innerHTML='<img class="button-image-right svelte-1odvbhv" src="icons/create-new-icon.png" alt="create new"/>Create New',J=v(),K=p("div"),Q=p("button"),R=p("img"),W=u("Import From..."),ne=v(),be&&be.c(),ie=v(),oe=p("div"),ae=p("input"),le=v(),re=p("div"),he=p("div");for(let e=0;e<ue.length;e+=1)ue[e].c();b(l,"class","shape-selector-header-logo svelte-1odvbhv"),b(y,"class","close-button svelte-1odvbhv"),b(a,"class","shape-selector-header svelte-1odvbhv"),b($,"class","svelte-1odvbhv"),b(x,"class","button-image-left svelte-1odvbhv"),r(x.src,M="icons/turtle-icon.png")||b(x,"src","icons/turtle-icon.png"),b(x,"alt","turtle button"),b(U,"class",L="turtle-button "+("turtle"===e[2]?"selected-button":"unselected-button")+" svelte-1odvbhv"),b(N,"class","button-image-left svelte-1odvbhv"),r(N.src,H="icons/link-icon.png")||b(N,"src","icons/link-icon.png"),b(N,"alt","link button"),b(j,"class",z="link-button "+("link"===e[2]?"selected-button":"unselected-button")+" svelte-1odvbhv"),b(O,"class","mode-selector-buttons svelte-1odvbhv"),b(G,"class","create-new-button svelte-1odvbhv"),b(R,"class","button-image-right svelte-1odvbhv"),r(R.src,V="icons/import-icon.png")||b(R,"src","icons/import-icon.png"),b(R,"alt","import"),b(Q,"class",se="import-shapes-button "+(e[6]?"clicked":"")+" svelte-1odvbhv"),b(K,"class","dropdown svelte-1odvbhv"),b(q,"class","shape-selector-buttons svelte-1odvbhv"),b(T,"class","selector-buttons svelte-1odvbhv"),b(w,"class","mode-selector svelte-1odvbhv"),ae.value=e[1],b(ae,"placeholder","Search"),m(ae,"background-image","url('icons/search-icon.png')"),b(ae,"class","svelte-1odvbhv"),b(oe,"class","shape-selector-search svelte-1odvbhv"),b(he,"class","shape-selector-grid-inner svelte-1odvbhv"),b(re,"class","shape-selector-grid svelte-1odvbhv"),b(k,"class","inner-container svelte-1odvbhv"),b(o,"class","shape-selector svelte-1odvbhv"),b(t,"class","shape-selector-dialog svelte-1odvbhv"),m(t,"display",e[5]?"block":"none")},m(n,r){c(n,t,r),fe&&fe.m(t,null),h(t,s),h(t,o),h(o,a),h(a,l),h(a,g),h(a,y),h(o,S),h(o,k),h(k,w),h(w,$),h(w,I),h(w,T),h(T,O),h(O,U),h(U,x),h(U,_),h(O,E),h(O,j),h(j,N),h(j,A),h(T,X),h(T,q),h(q,G),h(q,J),h(q,K),h(K,Q),h(Q,R),h(Q,W),h(K,ne),be&&be.m(K,null),h(k,ie),h(k,oe),h(oe,ae),h(k,le),h(k,re),h(re,he);for(let e=0;e<ue.length;e+=1)ue[e]&&ue[e].m(he,null);ce=!0,de||(pe=[f(y,"click",e[8]),f(U,"click",e[9]),f(j,"click",e[10]),f(G,"click",(function(){i(e[0].createShape())&&e[0].createShape().apply(this,arguments)})),f(Q,"click",(function(){i(e[0].importShapes())&&e[0].importShapes().apply(this,arguments)})),f(ae,"input",e[11])],de=!0)},p(i,[o]){(e=i)[7]?fe?128&o&&D(fe,1):(fe=Z(),fe.c(),D(fe,1),fe.m(t,s)):fe&&(F={r:0,c:[],p:F},B(fe,1,1,(()=>{fe=null})),F.r||n(F.c),F=F.p),(!ce||4&o&&L!==(L="turtle-button "+("turtle"===e[2]?"selected-button":"unselected-button")+" svelte-1odvbhv"))&&b(U,"class",L),(!ce||4&o&&z!==(z="link-button "+("link"===e[2]?"selected-button":"unselected-button")+" svelte-1odvbhv"))&&b(j,"class",z),(!ce||64&o&&se!==(se="import-shapes-button "+(e[6]?"clicked":"")+" svelte-1odvbhv"))&&b(Q,"class",se),e[6]?be?be.p(e,o):(be=ee(e),be.c(),be.m(K,null)):be&&(be.d(1),be=null),(!ce||2&o&&ae.value!==e[1])&&(ae.value=e[1]),25&o&&(ge=e[3],ue=P(ue,o,me,1,e,ge,ve,he,C,te,null,Y)),(!ce||32&o)&&m(t,"display",e[5]?"block":"none")},i(e){ce||(D(fe),ce=!0)},o(e){B(fe),ce=!1},d(e){e&&d(t),fe&&fe.d(),be&&be.d();for(let e=0;e<ue.length;e+=1)ue[e].d();de=!1,n(pe)}}}function ne(e,t,s){let n,i,o,a=[],l=null,r=!0,h=!1,c=!1;const d=J([]),p=J([]),u=J(null),v=J(!0),f=J(!1),b=J(!1);S((()=>{const e={onUpdateShapes:e=>{d.set(e)},onUpdateFilteredShapes:e=>{p.set(e)},onUpdateSelectedItemId:e=>{u.set(e)},onUpdateDialogOpen:e=>{v.set(e)},onUpdateImportButtonSelected:e=>{f.set(e)},onUpdateLibraryOpen:e=>{b.set(e)}};s(0,n=new X(document.getElementById("Container"),e))})),d.subscribe((e=>{})),p.subscribe((e=>{s(3,a=e)})),u.subscribe((e=>{s(4,l=e)})),v.subscribe((e=>{s(5,r=e)})),f.subscribe((e=>{s(6,h=e)})),b.subscribe((e=>{s(7,c=e)}));return e.$$.update=()=>{1&e.$$.dirty&&n&&(s(1,i=n.searchTerm),s(2,o=n.currentType),s(3,a=n.filteredShapes),n.shapes,s(4,l=n.selectedItemId),s(5,r=n.dialogOpen),s(6,h=n.importButtonSelected),s(7,c=n.libraryOpen))},[n,i,o,a,l,r,h,c,()=>n.toggleDialog(),()=>{s(2,o="turtle"),n.filterShapes("turtle")},()=>{s(2,o="link"),n.filterShapes("link")},e=>n.handleSearch(e.target.value),(e,t)=>{t.stopPropagation(),n.duplicateShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),n.duplicateShape(e.id))},(e,t)=>{t.stopPropagation(),n.deleteShape(e.id)},(e,t)=>{"Enter"===t.key&&(t.stopPropagation(),n.deleteShape(e.id))},(e,t,n)=>s(3,t[n].hover=!0,a),(e,t,n)=>s(3,t[n].hover=!1,a),(e,t,n)=>s(3,t[n].hover=!0,a),(e,t,n)=>s(3,t[n].hover=!1,a),e=>n.setSelectedItemId(e.id)]}return new class extends z{constructor(e){super(),A(this,e,ne,se,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
